(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1085:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.HasMapStore=void 0;const n=s(5);class i{constructor(e){this.creater=e,this.map=new Map,n.makeObservable(this)}get(e){if(!this.map.has(e)){const t=this.creater(e);n.runInAction(()=>{this.map.set(e,t)})}return this.map.get(e)}has(e){return this.map.has(e)}}r([n.observable.shallow],i.prototype,"map",void 0),t.HasMapStore=i},132:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1085),t),n(s(1339),t),n(s(1532),t),n(s(1533),t),n(s(1534),t)},1339:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1530),t),n(s(1531),t)},1341:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1540),t),n(s(1343),t),n(s(1342),t),n(s(1541),t)},1342:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryGovParamDeposit=t.ObservableQueryGovParamVoting=t.ObservableQueryGovParamTally=void 0;const r=s(63);class n extends r.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/cosmos/gov/v1beta1/params/tallying")}}t.ObservableQueryGovParamTally=n;class i extends r.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/cosmos/gov/v1beta1/params/voting")}}t.ObservableQueryGovParamVoting=i;class o extends r.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/cosmos/gov/v1beta1/params/deposit")}}t.ObservableQueryGovParamDeposit=o},1343:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryProposal=void 0;const n=s(63),i=s(1344),o=s(5),a=s(27);class c extends n.ObservableChainQuery{constructor(e,t,s,r,n){super(e,t,s,`/cosmos/gov/v1beta1/proposals/${r.proposal_id}/tally`),this._raw=r,this.governance=n,o.makeObservable(this)}canFetch(){return this.proposalStatus===i.ProposalStatus.VOTING_PERIOD}get raw(){return this._raw}get proposalStatus(){switch(this.raw.status){case"PROPOSAL_STATUS_DEPOSIT_PERIOD":return i.ProposalStatus.DEPOSIT_PERIOD;case"PROPOSAL_STATUS_VOTING_PERIOD":return i.ProposalStatus.VOTING_PERIOD;case"PROPOSAL_STATUS_PASSED":return i.ProposalStatus.PASSED;case"PROPOSAL_STATUS_REJECTED":return i.ProposalStatus.REJECTED;case"PROPOSAL_STATUS_FAILED":return i.ProposalStatus.FAILED;default:return i.ProposalStatus.UNSPECIFIED}}get id(){return this.raw.proposal_id}get title(){return this.raw.content.title}get description(){return this.raw.content.description}get turnout(){const e=this.governance.getQueryPool(),t=e.bondedTokens.toDec();if(!e.response||t.equals(new a.Dec(0)))return new a.IntPretty(new a.Dec(0)).ready(!1);const s=this.tally,r=s.yes.add(s.no).add(s.abstain).add(s.noWithVeto);return new a.IntPretty(r.toDec().quoTruncate(t).mulTruncate(a.DecUtils.getPrecisionDec(2))).ready(s.yes.isReady)}get tally(){const e=this.chainGetter.getChain(this.chainId).stakeCurrency;return this.proposalStatus!==i.ProposalStatus.VOTING_PERIOD?{yes:new a.IntPretty(new a.Int(this.raw.final_tally_result.yes)).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals),no:new a.IntPretty(new a.Int(this.raw.final_tally_result.no)).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals),abstain:new a.IntPretty(new a.Int(this.raw.final_tally_result.abstain)).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals),noWithVeto:new a.IntPretty(new a.Int(this.raw.final_tally_result.no_with_veto)).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals)}:this.response?{yes:new a.IntPretty(new a.Int(this.response.data.tally.yes)).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals),no:new a.IntPretty(new a.Int(this.response.data.tally.no)).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals),abstain:new a.IntPretty(new a.Int(this.response.data.tally.abstain)).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals),noWithVeto:new a.IntPretty(new a.Int(this.response.data.tally.no_with_veto)).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals)}:{yes:new a.IntPretty(new a.Int(0)).ready(!1).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals),no:new a.IntPretty(new a.Int(0)).ready(!1).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals),abstain:new a.IntPretty(new a.Int(0)).ready(!1).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals),noWithVeto:new a.IntPretty(new a.Int(0)).ready(!1).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals)}}get total(){const e=this.tally,t=e.yes.add(e.no).add(e.abstain).add(e.noWithVeto),s=this.chainGetter.getChain(this.chainId).stakeCurrency;return new a.CoinPretty(s,t)}get tallyRatio(){const e=this.tally,t=e.yes.add(e.no).add(e.abstain).add(e.noWithVeto);return t.toDec().equals(new a.Dec(0))?{yes:new a.IntPretty(new a.Int(0)).ready(!1),no:new a.IntPretty(new a.Int(0)).ready(!1),abstain:new a.IntPretty(new a.Int(0)).ready(!1),noWithVeto:new a.IntPretty(new a.Int(0)).ready(!1)}:{yes:new a.IntPretty(e.yes.toDec().quoTruncate(t.toDec()).mulTruncate(a.DecUtils.getPrecisionDec(2))).ready(e.yes.isReady),no:new a.IntPretty(e.no.toDec().quoTruncate(t.toDec()).mulTruncate(a.DecUtils.getPrecisionDec(2))).ready(e.no.isReady),abstain:new a.IntPretty(e.abstain.toDec().quoTruncate(t.toDec()).mulTruncate(a.DecUtils.getPrecisionDec(2))).ready(e.abstain.isReady),noWithVeto:new a.IntPretty(e.noWithVeto.toDec().quoTruncate(t.toDec()).mulTruncate(a.DecUtils.getPrecisionDec(2))).ready(e.noWithVeto.isReady)}}}r([o.computed],c.prototype,"turnout",null),r([o.computed],c.prototype,"tally",null),r([o.computed],c.prototype,"total",null),r([o.computed],c.prototype,"tallyRatio",null),t.ObservableQueryProposal=c},1344:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProposalStatus=void 0,function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.DEPOSIT_PERIOD=1]="DEPOSIT_PERIOD",e[e.VOTING_PERIOD=2]="VOTING_PERIOD",e[e.PASSED=3]="PASSED",e[e.REJECTED=4]="REJECTED",e[e.FAILED=5]="FAILED"}(t.ProposalStatus||(t.ProposalStatus={}))},1345:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1542),t),n(s(1543),t),n(s(1544),t),n(s(1545),t),n(s(1551),t),n(s(1552),t)},1346:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1553),t),n(s(1554),t),n(s(1555),t)},1347:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryAccount=t.ObservableQueryAccountInner=void 0;const n=s(63),i=s(5),o=s(16);class a extends n.ObservableChainQuery{constructor(e,t,s,r){super(e,t,s,"/cosmos/auth/v1beta1/accounts/"+r),this.bech32Address=r,i.makeObservable(this)}canFetch(){return this.bech32Address.length>0}get sequence(){if(!this.response)return"0";try{return o.BaseAccount.fromProtoJSON(this.response.data,this.bech32Address).getSequence().toString()}catch(e){return"0"}}get isVestingAccount(){var e;return!!this.response&&!!(null===(e=this.response.data)||void 0===e?void 0:e.account.base_vesting_account)}}r([i.computed],a.prototype,"sequence",null),r([i.computed],a.prototype,"isVestingAccount",null),t.ObservableQueryAccountInner=a;class c extends n.ObservableChainQueryMap{constructor(e,t,s){super(e,t,s,e=>new a(this.kvStore,this.chainId,this.chainGetter,e)),this.kvStore=e,this.chainId=t,this.chainGetter=s}getQueryBech32Address(e){return this.get(e)}}t.ObservableQueryAccount=c},1348:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1556),t),n(s(1557),t),n(s(1558),t)},1349:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1559),t),n(s(1560),t)},1350:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryCw20BalanceRegistry=t.ObservableQueryCw20BalanceInner=t.ObservableQueryCw20Balance=void 0;const n=s(5),i=s(25),o=s(27),a=s(562),c=s(1351);class u extends c.ObservableCosmwasmContractChainQuery{constructor(e,t,s,r,n){super(e,t,s,r,{balance:{address:n}}),this.contractAddress=r,this.bech32Address=n}canFetch(){return super.canFetch()&&""!==this.bech32Address}}t.ObservableQueryCw20Balance=u;class l extends a.ObservableQueryBalanceInner{constructor(e,t,s,r,i){super(e,t,s,"",r),this.bech32Address=i,n.makeObservable(this),this.queryCw20Balance=new u(e,t,s,r.contractAddress,i)}canFetch(){return!1}*fetch(){yield this.queryCw20Balance.fetch()}get balance(){const e=this.denomHelper.denom,t=this.chainGetter.getChain(this.chainId).currencies.find(t=>t.coinMinimalDenom===e);if(!t)throw new Error("Unknown currency: "+e);return this.queryCw20Balance.response&&this.queryCw20Balance.response.data.balance?new o.CoinPretty(t,new o.Int(this.queryCw20Balance.response.data.balance)):new o.CoinPretty(t,new o.Int(0)).ready(!1)}}r([n.override],l.prototype,"fetch",null),r([n.computed],l.prototype,"balance",null),t.ObservableQueryCw20BalanceInner=l;t.ObservableQueryCw20BalanceRegistry=class{constructor(e){this.kvStore=e}getBalanceInner(e,t,s,r){const n=new i.DenomHelper(r);if("cw20"===n.type)return new l(this.kvStore,e,t,n,s)}}},1351:function(e,t,s){"use strict";var r=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableCosmwasmContractChainQuery=void 0;const n=s(63),i=s(4),o=s(5);class a extends n.ObservableChainQuery{constructor(e,t,s,r,n){super(e,t,s,a.getUrlFromObj(r,n)),this.contractAddress=r,this.obj=n}onStart(){return super.onStart(),new Promise(e=>{this.disposer=o.autorun(()=>{const t=this.chainGetter.getChain(this.chainId);t.features&&t.features.includes("wasmd_0.24+")?this.url.startsWith("/wasm/v1/")&&this.setUrl("/cosmwasm"+this.url):this.url.startsWith("/cosmwasm/")&&this.setUrl(""+this.url.replace("/cosmwasm","")),e()})})}onStop(){this.disposer&&(this.disposer(),this.disposer=void 0),super.onStop()}static getUrlFromObj(e,t){const s=JSON.stringify(t);return`/wasm/v1/contract/${e}/smart/${i.Buffer.from(s).toString("base64")}`}canFetch(){return 0!==this.contractAddress.length}fetchResponse(e){const t=Object.create(null,{fetchResponse:{get:()=>super.fetchResponse}});return r(this,void 0,void 0,(function*(){const{response:s,headers:r}=yield t.fetchResponse.call(this,e),n=s.data;if(!n)throw new Error("Failed to get the response from the contract");return{headers:r,response:{data:n.data,status:s.status,staled:!1,timestamp:Date.now()}}}))}}t.ObservableCosmwasmContractChainQuery=a},1352:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQuerySecretContractCodeHash=t.ObservableQuerySecretContractCodeHashInner=void 0;const r=s(63);class n extends r.ObservableChainQuery{constructor(e,t,s,r){super(e,t,s,`/wasm/contract/${r}/code-hash`),this.contractAddress=r}canFetch(){return this.contractAddress.length>0}}t.ObservableQuerySecretContractCodeHashInner=n;class i extends r.ObservableChainQueryMap{constructor(e,t,s){super(e,t,s,e=>new n(this.kvStore,this.chainId,this.chainGetter,e)),this.kvStore=e,this.chainId=t,this.chainGetter=s}getQueryContract(e){return this.get(e)}}t.ObservableQuerySecretContractCodeHash=i},1353:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQuerySecret20BalanceRegistry=t.ObservableQuerySecret20BalanceInner=t.ObservableQuerySecret20Balance=void 0;const i=s(5),o=s(25),a=s(27),c=s(562),u=s(1354),l=s(1355);class h extends u.ObservableSecretContractChainQuery{constructor(e,t,s,r,n,o,a,c){super(e,t,s,r,n,{balance:{address:o,key:a}},c),this.apiGetter=r,this.contractAddress=n,this.bech32Address=o,this.viewingKey=a,this.querySecretContractCodeHash=c,i.makeObservable(this),this.viewingKey||this.setError({status:0,statusText:"Viewing key is empty",message:"Viewing key is empty"})}canFetch(){return super.canFetch()&&""!==this.bech32Address&&""!==this.viewingKey}fetchResponse(e){const t=Object.create(null,{fetchResponse:{get:()=>super.fetchResponse}});var s;return n(this,void 0,void 0,(function*(){const{response:r,headers:n}=yield t.fetchResponse.call(this,e);if(r.data.viewing_key_error)throw new l.WrongViewingKeyError(null===(s=r.data.viewing_key_error)||void 0===s?void 0:s.msg);return{headers:n,response:r}}))}}t.ObservableQuerySecret20Balance=h;class d extends c.ObservableQueryBalanceInner{constructor(e,t,s,r,n,o,a){super(e,t,s,"",n),this.apiGetter=r,this.bech32Address=o,this.querySecretContractCodeHash=a,i.makeObservable(this);const c=(()=>{const e=this.currency;return"type"in e&&"secret20"===e.type?e.viewingKey:""})();this.querySecret20Balance=new h(e,t,s,this.apiGetter,n.contractAddress,o,c,this.querySecretContractCodeHash)}canFetch(){return!1}*fetch(){yield this.querySecret20Balance.fetch()}get isFetching(){return this.querySecretContractCodeHash.getQueryContract(this.denomHelper.contractAddress).isFetching||this.querySecret20Balance.isFetching}get error(){return this.querySecretContractCodeHash.getQueryContract(this.denomHelper.contractAddress).error||this.querySecret20Balance.error}get balance(){const e=this.denomHelper.denom,t=this.chainGetter.getChain(this.chainId).findCurrency(e);if(!t)throw new Error("Unknown currency: "+e);return this.querySecret20Balance.response&&this.querySecret20Balance.response.data.balance?new a.CoinPretty(t,new a.Int(this.querySecret20Balance.response.data.balance.amount)):new a.CoinPretty(t,new a.Int(0)).ready(!1)}}r([i.override],d.prototype,"fetch",null),r([i.computed],d.prototype,"balance",null),t.ObservableQuerySecret20BalanceInner=d;t.ObservableQuerySecret20BalanceRegistry=class{constructor(e,t,s){this.kvStore=e,this.apiGetter=t,this.querySecretContractCodeHash=s}getBalanceInner(e,t,s,r){const n=new o.DenomHelper(r);if("secret20"===n.type)return new d(this.kvStore,e,t,this.apiGetter,n,s,this.querySecretContractCodeHash)}}},1354:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableSecretContractChainQuery=void 0;const i=s(63),o=s(25),a=s(5),c=s(4);class u extends i.ObservableChainQuery{constructor(e,t,s,r,n,i,o){super(e,t,s,""),this.apiGetter=r,this.contractAddress=n,this.obj=i,this.querySecretContractCodeHash=o,this.keplr=void 0,this._isIniting=!1,a.makeObservable(this)}onStart(){const e=Object.create(null,{onStart:{get:()=>super.onStart}});return n(this,void 0,void 0,(function*(){if(e.onStart.call(this),this.keplr||(yield this.initKeplr()),!this.keplr)throw new Error("Failed to get keplr");yield this.querySecretContractCodeHash.getQueryContract(this.contractAddress).waitResponse(),yield this.init()}))}get isFetching(){return this.querySecretContractCodeHash.getQueryContract(this.contractAddress).isFetching||null==this.keplr||this._isIniting||super.isFetching}canFetch(){return!!this.querySecretContractCodeHash.getQueryContract(this.contractAddress).response&&(0!==this.contractAddress.length&&null!=this.nonce)}*initKeplr(){this.keplr=yield*o.toGenerator(this.apiGetter())}*init(){if(this._isIniting=!0,this.keplr&&this.contractCodeHash){const e=this.keplr.getEnigmaUtils(this.chainId),t=yield*o.toGenerator(e.encrypt(this.contractCodeHash,this.obj));this.nonce=t.slice(0,32);const s=c.Buffer.from(c.Buffer.from(t).toString("base64")).toString("hex");this.setUrl(`/wasm/contract/${this.contractAddress}/query/${s}?encoding=hex`)}this._isIniting=!1}fetchResponse(e){const t=Object.create(null,{fetchResponse:{get:()=>super.fetchResponse}});var s,r;return n(this,void 0,void 0,(function*(){let n,i;try{const s=yield t.fetchResponse.call(this,e);n=s.response,i=s.headers}catch(e){if(null===(r=null===(s=e.response)||void 0===s?void 0:s.data)||void 0===r?void 0:r.error){const t=e.response.data.error,s=/rpc error: code = (.+) = encrypted: (.+): (.+)/g.exec(t);if(null!=s&&4===s.length){const e=s[2],t=c.Buffer.from(e,"base64");if(this.keplr&&this.nonce){const e=yield this.keplr.getEnigmaUtils(this.chainId).decrypt(t,this.nonce),s=c.Buffer.from(e).toString();throw new Error(s)}}}throw e}const o=n.data;if(!this.keplr)throw new Error("Keplr API not initialized");if(!this.nonce)throw new Error("Nonce is unknown");if(!o)throw new Error("Failed to get the response from the contract");const a=yield this.keplr.getEnigmaUtils(this.chainId).decrypt(c.Buffer.from(o.result.smart,"base64"),this.nonce),u=c.Buffer.from(c.Buffer.from(a).toString(),"base64").toString();return{headers:i,response:{data:JSON.parse(u),status:n.status,staled:!1,timestamp:Date.now()}}}))}getCacheKey(){return`${this.instance.name}-${this.instance.defaults.baseURL}${this.instance.getUri({url:`/wasm/contract/${this.contractAddress}/query/${JSON.stringify(this.obj)}?encoding=json`})}`}get contractCodeHash(){const e=this.querySecretContractCodeHash.getQueryContract(this.contractAddress);if(e.response)return e.response.data.result}}r([a.observable.ref],u.prototype,"keplr",void 0),r([a.observable],u.prototype,"_isIniting",void 0),r([a.flow],u.prototype,"initKeplr",null),r([a.flow],u.prototype,"init",null),r([a.computed],u.prototype,"contractCodeHash",null),t.ObservableSecretContractChainQuery=u},1355:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WrongViewingKeyError=void 0;class r extends Error{constructor(e){super(e),Object.setPrototypeOf(this,r.prototype)}}t.WrongViewingKeyError=r},1356:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryTxFeesFeeTokens=void 0;const n=s(63),i=s(5),o=s(221);class a extends n.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/osmosis/txfees/v1beta1/fee_tokens"),this.isTxFeeToken=o.computedFn(e=>!!this.response&&!0===this.feeCurrenciesDenomMap.get(e)),i.makeObservable(this)}setResponse(e){super.setResponse(e);const t=this.chainGetter.getChain(this.chainId),s=e.data.fee_tokens.map(e=>e.denom);t.addUnknownCurrencies(...s)}get feeCurrenciesDenomMap(){const e=new Map;if(!this.response)return e;for(const t of this.response.data.fee_tokens)e.set(t.denom,!0);return e}get feeCurrencies(){if(!this.response)return[];const e=[],t=this.chainGetter.getChain(this.chainId);for(const s of this.response.data.fee_tokens){const r=t.findCurrency(s.denom);r&&e.push(r)}return e}}r([i.computed],a.prototype,"feeCurrenciesDenomMap",null),r([i.computed],a.prototype,"feeCurrencies",null),t.ObservableQueryTxFeesFeeTokens=a},1357:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryTxFeesSpotPriceByDenom=t.ObservableQueryTxFeesSpotPriceByDenomInner=void 0;const n=s(63),i=s(5),o=s(27);class a extends n.ObservableChainQuery{constructor(e,t,s,r){super(e,t,s,"osmosis/txfees/v1beta1/spot_price_by_denom?denom="+r),i.makeObservable(this)}get poolId(){return this.response?this.response.data.poolID:""}get spotPriceDec(){return this.response?new o.Dec(this.response.data.spot_price):new o.Dec(0)}}r([i.computed],a.prototype,"spotPriceDec",null),t.ObservableQueryTxFeesSpotPriceByDenomInner=a;class c extends n.ObservableChainQueryMap{constructor(e,t,s){super(e,t,s,e=>new a(this.kvStore,this.chainId,this.chainGetter,e)),this.kvStore=e,this.chainId=t,this.chainGetter=s}getQueryDenom(e){return this.get(e)}}t.ObservableQueryTxFeesSpotPriceByDenom=c},1358:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryTxFeesBaseDenom=void 0;const r=s(63),n=s(5);class i extends r.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/osmosis/txfees/v1beta1/base_denom"),n.makeObservable(this)}get baseDenom(){var e,t;return null!==(t=null===(e=this.response)||void 0===e?void 0:e.data.base_denom)&&void 0!==t?t:""}}t.ObservableQueryTxFeesBaseDenom=i},1363:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1615),t)},1364:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1616),t),n(s(1617),t)},1521:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1522),t),n(s(933),t),n(s(1523),t),n(s(1526),t),n(s(1527),t),n(s(1529),t),n(s(1535),t),n(s(698),t)},1522:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1523:function(e,t,s){"use strict";var r=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CosmosAccountImpl=t.defaultCosmosMsgOpts=t.CosmosAccount=void 0;const i=s(933),o=s(25),a=s(27),c=s(114),u=s(696),l=s(1524),h=s(689),d=s(695),p=s(690),f=s(693),y=s(691),g=s(692),v=s(16),b=s(934),m=n(s(50)),_=n(s(183)),O=s(4),w=s(698),S=s(1525),C=s(294);t.CosmosAccount={use:e=>(s,r,n)=>{const i=e.msgOptsCreator?e.msgOptsCreator(n):void 0;return{cosmos:new I(s,r,n,e.queriesStore,_.default(t.defaultCosmosMsgOpts,i||{}),e)}}},t.defaultCosmosMsgOpts={send:{native:{type:"cosmos-sdk/MsgSend",gas:8e4}},ibcTransfer:{type:"cosmos-sdk/MsgTransfer",gas:45e4},delegate:{type:"cosmos-sdk/MsgDelegate",gas:25e4},undelegate:{type:"cosmos-sdk/MsgUndelegate",gas:25e4},redelegate:{type:"cosmos-sdk/MsgBeginRedelegate",gas:25e4},withdrawRewards:{type:"cosmos-sdk/MsgWithdrawDelegationReward",gas:14e4},govVote:{type:"cosmos-sdk/MsgVote",gas:25e4}};class I{constructor(e,t,s,r,n,i){this.base=e,this.chainGetter=t,this.chainId=s,this.queriesStore=r,this._msgOpts=n,this.txOpts=i,this.broadcastMode="sync",this.base.registerMakeSendTokenFn(this.processMakeSendTokenTx.bind(this)),this.base.registerSendTokenFn(this.processSendToken.bind(this))}get msgOpts(){return this._msgOpts}processMakeSendTokenTx(e,t,s){if("native"===new o.DenomHelper(t.coinMinimalDenom).type){const r=(()=>{let s=new a.Dec(e);return s=s.mul(a.DecUtils.getPrecisionDec(t.coinDecimals)),s.truncate().toString()})();v.Bech32Address.validate(s,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixAccAddr);const n={type:this.msgOpts.send.native.type,value:{from_address:this.base.bech32Address,to_address:s,amount:[{denom:t.coinMinimalDenom,amount:r}]}};return this.makeTx("send",{aminoMsgs:[n],protoMsgs:[{typeUrl:"/cosmos.bank.v1beta1.MsgSend",value:h.MsgSend.encode({fromAddress:n.value.from_address,toAddress:n.value.to_address,amount:n.value.amount}).finish()}],rlpTypes:{MsgValue:[{name:"from_address",type:"string"},{name:"to_address",type:"string"},{name:"amount",type:"TypeAmount[]"}],TypeAmount:[{name:"denom",type:"string"},{name:"amount",type:"string"}]}},e=>{if(null==e.code||0===e.code){const e=this.queries.queryBalances.getQueryBech32Address(this.base.bech32Address).balances.find(e=>e.currency.coinMinimalDenom===t.coinMinimalDenom);e&&e.fetch()}})}}processSendToken(e,t,s,n,i,c,u){var l,d;return r(this,void 0,void 0,(function*(){switch(new o.DenomHelper(t.coinMinimalDenom).type){case"native":const r=(()=>{let s=new a.Dec(e);return s=s.mul(a.DecUtils.getPrecisionDec(t.coinDecimals)),s.truncate().toString()})(),o={type:this.msgOpts.send.native.type,value:{from_address:this.base.bech32Address,to_address:s,amount:[{denom:t.coinMinimalDenom,amount:r}]}};return yield this.sendMsgs("send",{aminoMsgs:[o],protoMsgs:[{typeUrl:"/cosmos.bank.v1beta1.MsgSend",value:h.MsgSend.encode({fromAddress:o.value.from_address,toAddress:o.value.to_address,amount:o.value.amount}).finish()}]},n,{amount:null!==(l=i.amount)&&void 0!==l?l:[],gas:null!==(d=i.gas)&&void 0!==d?d:this.msgOpts.send.native.gas.toString()},c,w.txEventsWithPreOnFulfill(u,e=>{if(null==e.code||0===e.code){const e=this.queries.queryBalances.getQueryBech32Address(this.base.bech32Address).balances.find(e=>e.currency.coinMinimalDenom===t.coinMinimalDenom);e&&e.fetch()}})),!0}return!1}))}sendMsgs(e,t,s="",n,i,o){var a,c;return r(this,void 0,void 0,(function*(){let r,u,l,h;this.base.setTxNotification(""),this.base.setTxTypeInProgress(e);try{"function"==typeof t&&(t=yield t());const e=yield this.broadcastMsgs(t,n,s,i,this.broadcastMode);r=e.txHash,u=e.signDoc}catch(e){throw this.base.setTxTypeInProgress(""),(null===(a=this.txOpts.preTxEvents)||void 0===a?void 0:a.onBroadcastFailed)&&this.txOpts.preTxEvents.onBroadcastFailed(this.chainId,e),o&&"onBroadcastFailed"in o&&o.onBroadcastFailed&&o.onBroadcastFailed(e),e}o&&("function"==typeof o?h=o:(l=o.onBroadcasted,h=o.onFulfill)),(null===(c=this.txOpts.preTxEvents)||void 0===c?void 0:c.onBroadcasted)&&this.txOpts.preTxEvents.onBroadcasted(this.chainId,r),l&&l(r),this.txOpts.misesStore.portForTx(r).then(e=>{var t;this.base.setTxTypeInProgress(""),this.base.setTxNotification("success"),setTimeout(()=>{this.base.setTxNotification("")},2e3);for(const e of u.fee.amount){const t=this.queries.queryBalances.getQueryBech32Address(this.base.bech32Address).balances.find(t=>t.currency.coinMinimalDenom===e.denom);t&&t.fetch()}e&&!e.hash&&(e.hash=O.Buffer.from(r).toString("hex")),(null===(t=this.txOpts.preTxEvents)||void 0===t?void 0:t.onFulfill)&&this.txOpts.preTxEvents.onFulfill(this.chainId,e),h&&h(e)}).catch(e=>{console.log(e)})}))}broadcastMsgs(e,t,s="",n,a="async"){var h;return r(this,void 0,void 0,(function*(){if(this.base.walletStatus!==i.WalletStatus.Loaded)throw new Error("Wallet is not loaded: "+this.base.walletStatus);const d=e.aminoMsgs,p=e.protoMsgs;if(0===d.length||0===p.length)throw new Error("There is no msg to send");if(d.length!==p.length)throw new Error("The length of aminoMsgs and protoMsgs are different");const f=yield this.txOpts.misesStore.authAccounts(this.base.bech32Address);if(!f)throw new Error("not found account");const y=C.accountFromAny(f),g=!0===(null===(h=this.chainGetter.getChain(this.chainId).features)||void 0===h?void 0:h.includes("eth-key-sign")),b=g&&this.base.isNanoLedger;if(b&&!e.rlpTypes)throw new Error("RLP types information is needed for signing tx for ethermint chain with ledger");const m=yield this.base.getKeplr(),_={chain_id:this.chainId,account_number:y.accountNumber.toString(),sequence:y.sequence.toString(),fee:t,msgs:d,memo:o.escapeHTML(s)},w=o.sortObjectByKey(_),I=yield(()=>r(this,void 0,void 0,(function*(){if(b){const t=Object.assign({},w);return t.fee.feePayer=this.base.bech32Address,yield m.experimentalSignEIP712CosmosTx_v0(this.chainId,this.base.bech32Address,{types:Object.assign({EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"string"},{name:"salt",type:"string"}],Tx:[{name:"account_number",type:"string"},{name:"chain_id",type:"string"},{name:"fee",type:"Fee"},{name:"memo",type:"string"},{name:"msgs",type:"Msg[]"},{name:"sequence",type:"string"}],Fee:[{name:"feePayer",type:"string"},{name:"amount",type:"Coin[]"},{name:"gas",type:"string"}],Coin:[{name:"denom",type:"string"},{name:"amount",type:"string"}],Msg:[{name:"type",type:"string"},{name:"value",type:"MsgValue"}]},e.rlpTypes),domain:{name:"Cosmos Web3",version:"1.0.0",chainId:v.EthermintChainIdHelper.parse(this.chainId).ethChainId.toString(),verifyingContract:"cosmos",salt:"0"},primaryType:"Tx"},t,n)}return yield m.signAmino(this.chainId,this.base.bech32Address,w,n)})))(),P=c.TxRaw.encode({bodyBytes:c.TxBody.encode(c.TxBody.fromPartial({messages:p,memo:I.signed.memo,extensionOptions:b?[{typeUrl:"/ethermint.types.v1.ExtensionOptionsWeb3Tx",value:S.ExtensionOptionsWeb3Tx.encode(S.ExtensionOptionsWeb3Tx.fromPartial({typedDataChainId:v.EthermintChainIdHelper.parse(this.chainId).ethChainId.toString(),feePayer:this.base.bech32Address,feePayerSig:O.Buffer.from(I.signature.signature,"base64")})).finish()}]:void 0})).finish(),authInfoBytes:c.AuthInfo.encode({signerInfos:[{publicKey:{typeUrl:(()=>g?this.chainId.startsWith("injective")?"/injective.crypto.v1beta1.ethsecp256k1.PubKey":"/ethermint.crypto.v1.ethsecp256k1.PubKey":"/cosmos.crypto.secp256k1.PubKey")(),value:l.PubKey.encode({key:O.Buffer.from(I.signature.pub_key.value,"base64")}).finish()},modeInfo:{single:{mode:u.SignMode.SIGN_MODE_LEGACY_AMINO_JSON},multi:void 0},sequence:I.signed.sequence}],fee:c.Fee.fromPartial({amount:I.signed.fee.amount,gasLimit:I.signed.fee.gas,payer:b?I.signed.fee.feePayer:void 0})}).finish(),signatures:b?[new Uint8Array(0)]:[O.Buffer.from(I.signature.signature,"base64")]}).finish();return{txHash:yield m.sendTx(this.chainId,P,a),signDoc:I.signed}}))}simulateTx(e,t,s=""){return r(this,void 0,void 0,(function*(){const t=yield this.txOpts.misesStore.authAccounts(this.base.bech32Address),r=C.accountFromAny(t),n=yield this.txOpts.misesStore.simulate(e,s,r.pubkey,r.sequence),i=n.gasUsed.low;if(Number.isNaN(i))throw new Error("Invalid integer gas: "+n.gasUsed);return{gasUsed:i}}))}makeTx(e,t,s){const n=(e={},s="")=>r(this,void 0,void 0,(function*(){var r;return"function"==typeof t&&(t=yield t()),this.simulateTx(t.protoMsgs,{amount:null!==(r=e.amount)&&void 0!==r?r:[]},s)})),i=(n,i="",o,c)=>r(this,void 0,void 0,(function*(){if(n.gas<0)throw new Error("Gas is zero or negative");const r={gas:n.gas.toString(),amount:n.gasPrice?[{denom:n.gasPrice.denom,amount:n.gasPrice.amount.mul(new a.Dec(n.gas)).truncate().toString()}]:[]};return this.sendMsgs(e,t,i,r,o,w.txEventsWithPreOnFulfill(c,s))}));return{msgs:()=>r(this,void 0,void 0,(function*(){return"function"==typeof t&&(t=yield t()),t})),simulate:n,simulateAndSend:(t,s="",o,a)=>r(this,void 0,void 0,(function*(){this.base.setTxTypeInProgress(e);try{const{gasUsed:e}=yield n({},s);if(e<0)throw new Error("Gas estimated is zero or negative");const r=Math.floor(t.gasAdjustment*e);return i({gas:r,gasPrice:t.gasPrice},s,o,a)}catch(e){throw this.base.setTxTypeInProgress(""),e}})),send:(n,i="",o,a)=>r(this,void 0,void 0,(function*(){return this.sendMsgs(e,t,i,n,o,w.txEventsWithPreOnFulfill(a,s))})),sendWithGasPrice:i}}get instance(){const e=this.chainGetter.getChain(this.chainId);return m.default.create(Object.assign({baseURL:e.rest},e.restConfig))}makeIBCTransferTx(e,t,s,n){if("native"!==new o.DenomHelper(s.coinMinimalDenom).type)throw new Error("Only native token can be sent via IBC");const i=(()=>{let e=new a.Dec(t);return e=e.mul(a.DecUtils.getPrecisionDec(s.coinDecimals)),e.truncate().toString()})(),c=this.queriesStore.get(e.counterpartyChainId).cosmos.queryRPCStatus;return this.makeTx("ibcTransfer",()=>r(this,void 0,void 0,(function*(){var t;if(yield c.waitFreshResponse(),!c.network)throw new Error("Failed to fetch the network chain id of "+e.counterpartyChainId);if(v.ChainIdHelper.parse(c.network).identifier!==v.ChainIdHelper.parse(e.counterpartyChainId).identifier)throw new Error(`Fetched the network chain id is different with counterparty chain id (${c.network}, ${e.counterpartyChainId})`);if(!c.latestBlockHeight||c.latestBlockHeight.equals(new a.Int("0")))throw new Error("Failed to fetch the latest block of "+e.counterpartyChainId);const r=!0===(null===(t=this.chainGetter.getChain(this.chainId).features)||void 0===t?void 0:t.includes("eth-key-sign"))&&this.base.isNanoLedger?"18446744073709551615":"0",o={type:this.msgOpts.ibcTransfer.type,value:{source_port:e.portId,source_channel:e.channelId,token:{denom:s.coinMinimalDenom,amount:i},sender:this.base.bech32Address,receiver:n,timeout_height:{revision_number:v.ChainIdHelper.parse(c.network).version.toString(),revision_height:c.latestBlockHeight.add(new a.Int("150")).toString()},timeout_timestamp:r}};return"0"===o.value.timeout_height.revision_number&&delete o.value.timeout_height.revision_number,"0"===o.value.timeout_timestamp&&delete o.value.timeout_timestamp,{aminoMsgs:[o],protoMsgs:[{typeUrl:"/ibc.applications.transfer.v1.MsgTransfer",value:d.MsgTransfer.encode(d.MsgTransfer.fromPartial({sourcePort:o.value.source_port,sourceChannel:o.value.source_channel,token:o.value.token,sender:o.value.sender,receiver:o.value.receiver,timeoutHeight:{revisionNumber:o.value.timeout_height.revision_number?o.value.timeout_height.revision_number:"0",revisionHeight:o.value.timeout_height.revision_height},timeoutTimestamp:o.value.timeout_timestamp})).finish()}],rlpTypes:{MsgValue:[{name:"source_port",type:"string"},{name:"source_channel",type:"string"},{name:"token",type:"TypeToken"},{name:"sender",type:"string"},{name:"receiver",type:"string"},{name:"timeout_height",type:"TypeTimeoutHeight"},{name:"timeout_timestamp",type:"uint64"}],TypeToken:[{name:"denom",type:"string"},{name:"amount",type:"string"}],TypeTimeoutHeight:[{name:"revision_number",type:"uint64"},{name:"revision_height",type:"uint64"}]}}})),e=>{if(null==e.code||0===e.code){const e=this.queries.queryBalances.getQueryBech32Address(this.base.bech32Address).balances.find(e=>e.currency.coinMinimalDenom===s.coinMinimalDenom);e&&e.fetch()}})}sendIBCTransferMsg(e,t,s,n,i="",c={},u,l){var h,p;return r(this,void 0,void 0,(function*(){if("native"!==new o.DenomHelper(s.coinMinimalDenom).type)throw new Error("Only native token can be sent via IBC");const f=(()=>{let e=new a.Dec(t);return e=e.mul(a.DecUtils.getPrecisionDec(s.coinDecimals)),e.truncate().toString()})(),y=this.queriesStore.get(e.counterpartyChainId).cosmos.queryRPCStatus;yield this.sendMsgs("ibcTransfer",()=>r(this,void 0,void 0,(function*(){if(yield y.waitFreshResponse(),!y.network)throw new Error("Failed to fetch the network chain id of "+e.counterpartyChainId);if(v.ChainIdHelper.parse(y.network).identifier!==v.ChainIdHelper.parse(e.counterpartyChainId).identifier)throw new Error(`Fetched the network chain id is different with counterparty chain id (${y.network}, ${e.counterpartyChainId})`);if(!y.latestBlockHeight||y.latestBlockHeight.equals(new a.Int("0")))throw new Error("Failed to fetch the latest block of "+e.counterpartyChainId);const t={type:this.msgOpts.ibcTransfer.type,value:{source_port:e.portId,source_channel:e.channelId,token:{denom:s.coinMinimalDenom,amount:f},sender:this.base.bech32Address,receiver:n,timeout_height:{revision_number:v.ChainIdHelper.parse(y.network).version.toString(),revision_height:y.latestBlockHeight.add(new a.Int("150")).toString()}}};return"0"===t.value.timeout_height.revision_number&&delete t.value.timeout_height.revision_number,{aminoMsgs:[t],protoMsgs:[{typeUrl:"/ibc.applications.transfer.v1.MsgTransfer",value:d.MsgTransfer.encode(d.MsgTransfer.fromPartial({sourcePort:t.value.source_port,sourceChannel:t.value.source_channel,token:t.value.token,sender:t.value.sender,receiver:t.value.receiver,timeoutHeight:{revisionNumber:t.value.timeout_height.revision_number?t.value.timeout_height.revision_number:"0",revisionHeight:t.value.timeout_height.revision_height}})).finish()}]}})),i,{amount:null!==(h=c.amount)&&void 0!==h?h:[],gas:null!==(p=c.gas)&&void 0!==p?p:this.msgOpts.ibcTransfer.gas.toString()},u,w.txEventsWithPreOnFulfill(l,e=>{if(null==e.code||0===e.code){const e=this.queries.queryBalances.getQueryBech32Address(this.base.bech32Address).balances.find(e=>e.currency.coinMinimalDenom===s.coinMinimalDenom);e&&e.fetch()}}))}))}makeDelegateTx(e,t){v.Bech32Address.validate(t,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixValAddr);const s=this.chainGetter.getChain(this.chainId).stakeCurrency;let r=new a.Dec(e);r=r.mulTruncate(a.DecUtils.getPrecisionDec(s.coinDecimals));const n={type:this.msgOpts.delegate.type,value:{delegator_address:this.base.bech32Address,validator_address:t,amount:{denom:s.coinMinimalDenom,amount:r.truncate().toString()}}};return this.makeTx("delegate",{aminoMsgs:[n],protoMsgs:[{typeUrl:"/cosmos.staking.v1beta1.MsgDelegate",value:p.MsgDelegate.encode({delegatorAddress:n.value.delegator_address,validatorAddress:n.value.validator_address,amount:n.value.amount}).finish()}],rlpTypes:{MsgValue:[{name:"delegator_address",type:"string"},{name:"validator_address",type:"string"},{name:"amount",type:"TypeAmount"}],TypeAmount:[{name:"denom",type:"string"},{name:"amount",type:"string"}]}},e=>{null!=e.code&&0!==e.code||(this.queries.cosmos.queryValidators.getQueryStatus(b.BondStatus.Bonded).fetch(),this.queries.cosmos.queryDelegations.getQueryBech32Address(this.base.bech32Address).fetch(),this.queries.cosmos.queryRewards.getQueryBech32Address(this.base.bech32Address).fetch())})}sendDelegateMsg(e,t,s="",n={},i,o){var c,u;return r(this,void 0,void 0,(function*(){const r=this.chainGetter.getChain(this.chainId).stakeCurrency;let l=new a.Dec(e);l=l.mulTruncate(a.DecUtils.getPrecisionDec(r.coinDecimals));const h={type:this.msgOpts.delegate.type,value:{delegator_address:this.base.bech32Address,validator_address:t,amount:{denom:r.coinMinimalDenom,amount:l.truncate().toString()}}};yield this.sendMsgs("delegate",{aminoMsgs:[h],protoMsgs:[{typeUrl:"/cosmos.staking.v1beta1.MsgDelegate",value:p.MsgDelegate.encode({delegatorAddress:h.value.delegator_address,validatorAddress:h.value.validator_address,amount:h.value.amount}).finish()}]},s,{amount:null!==(c=n.amount)&&void 0!==c?c:[],gas:null!==(u=n.gas)&&void 0!==u?u:this.msgOpts.delegate.gas.toString()},i,w.txEventsWithPreOnFulfill(o,e=>{null!=e.code&&0!==e.code||(this.queries.cosmos.queryValidators.getQueryStatus(b.BondStatus.Bonded).fetch(),this.queries.cosmos.queryDelegations.getQueryBech32Address(this.base.bech32Address).fetch(),this.queries.cosmos.queryRewards.getQueryBech32Address(this.base.bech32Address).fetch())}))}))}makeUndelegateTx(e,t){v.Bech32Address.validate(t,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixValAddr);const s=this.chainGetter.getChain(this.chainId).stakeCurrency;let r=new a.Dec(e);r=r.mulTruncate(a.DecUtils.getPrecisionDec(s.coinDecimals));const n={type:this.msgOpts.undelegate.type,value:{delegator_address:this.base.bech32Address,validator_address:t,amount:{denom:s.coinMinimalDenom,amount:r.truncate().toString()}}};return this.makeTx("undelegate",{aminoMsgs:[n],protoMsgs:[{typeUrl:"/cosmos.staking.v1beta1.MsgUndelegate",value:p.MsgUndelegate.encode({delegatorAddress:n.value.delegator_address,validatorAddress:n.value.validator_address,amount:n.value.amount}).finish()}],rlpTypes:{MsgValue:[{name:"delegator_address",type:"string"},{name:"validator_address",type:"string"},{name:"amount",type:"TypeAmount"}],TypeAmount:[{name:"denom",type:"string"},{name:"amount",type:"string"}]}},e=>{null!=e.code&&0!==e.code||(this.queries.cosmos.queryValidators.getQueryStatus(b.BondStatus.Bonded).fetch(),this.queries.cosmos.queryDelegations.getQueryBech32Address(this.base.bech32Address).fetch(),this.queries.cosmos.queryUnbondingDelegations.getQueryBech32Address(this.base.bech32Address).fetch(),this.queries.cosmos.queryRewards.getQueryBech32Address(this.base.bech32Address).fetch())})}sendUndelegateMsg(e,t,s="",n={},i,o){var c,u;return r(this,void 0,void 0,(function*(){const r=this.chainGetter.getChain(this.chainId).stakeCurrency;let l=new a.Dec(e);l=l.mulTruncate(a.DecUtils.getPrecisionDec(r.coinDecimals));const h={type:this.msgOpts.undelegate.type,value:{delegator_address:this.base.bech32Address,validator_address:t,amount:{denom:r.coinMinimalDenom,amount:l.truncate().toString()}}};yield this.sendMsgs("undelegate",{aminoMsgs:[h],protoMsgs:[{typeUrl:"/cosmos.staking.v1beta1.MsgUndelegate",value:p.MsgUndelegate.encode({delegatorAddress:h.value.delegator_address,validatorAddress:h.value.validator_address,amount:h.value.amount}).finish()}]},s,{amount:null!==(c=n.amount)&&void 0!==c?c:[],gas:null!==(u=n.gas)&&void 0!==u?u:this.msgOpts.undelegate.gas.toString()},i,w.txEventsWithPreOnFulfill(o,e=>{null!=e.code&&0!==e.code||(this.queries.cosmos.queryValidators.getQueryStatus(b.BondStatus.Bonded).fetch(),this.queries.cosmos.queryDelegations.getQueryBech32Address(this.base.bech32Address).fetch(),this.queries.cosmos.queryUnbondingDelegations.getQueryBech32Address(this.base.bech32Address).fetch(),this.queries.cosmos.queryRewards.getQueryBech32Address(this.base.bech32Address).fetch())}))}))}makeBeginRedelegateTx(e,t,s){v.Bech32Address.validate(t,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixValAddr),v.Bech32Address.validate(s,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixValAddr);const r=this.chainGetter.getChain(this.chainId).stakeCurrency;let n=new a.Dec(e);n=n.mulTruncate(a.DecUtils.getPrecisionDec(r.coinDecimals));const i={type:this.msgOpts.redelegate.type,value:{delegator_address:this.base.bech32Address,validator_src_address:t,validator_dst_address:s,amount:{denom:r.coinMinimalDenom,amount:n.truncate().toString()}}};return this.makeTx("redelegate",{aminoMsgs:[i],protoMsgs:[{typeUrl:"/cosmos.staking.v1beta1.MsgBeginRedelegate",value:p.MsgBeginRedelegate.encode({delegatorAddress:i.value.delegator_address,validatorSrcAddress:i.value.validator_src_address,validatorDstAddress:i.value.validator_dst_address,amount:i.value.amount}).finish()}],rlpTypes:{MsgValue:[{name:"delegator_address",type:"string"},{name:"validator_src_address",type:"string"},{name:"validator_dst_address",type:"string"},{name:"amount",type:"TypeAmount"}],TypeAmount:[{name:"denom",type:"string"},{name:"amount",type:"string"}]}},e=>{null!=e.code&&0!==e.code||(this.queries.cosmos.queryValidators.getQueryStatus(b.BondStatus.Bonded).fetch(),this.queries.cosmos.queryDelegations.getQueryBech32Address(this.base.bech32Address).fetch(),this.queries.cosmos.queryRewards.getQueryBech32Address(this.base.bech32Address).fetch())})}sendBeginRedelegateMsg(e,t,s,n="",i={},o,c){var u,l;return r(this,void 0,void 0,(function*(){const r=this.chainGetter.getChain(this.chainId).stakeCurrency;let h=new a.Dec(e);h=h.mulTruncate(a.DecUtils.getPrecisionDec(r.coinDecimals));const d={type:this.msgOpts.redelegate.type,value:{delegator_address:this.base.bech32Address,validator_src_address:t,validator_dst_address:s,amount:{denom:r.coinMinimalDenom,amount:h.truncate().toString()}}};yield this.sendMsgs("redelegate",{aminoMsgs:[d],protoMsgs:[{typeUrl:"/cosmos.staking.v1beta1.MsgBeginRedelegate",value:p.MsgBeginRedelegate.encode({delegatorAddress:d.value.delegator_address,validatorSrcAddress:d.value.validator_src_address,validatorDstAddress:d.value.validator_dst_address,amount:d.value.amount}).finish()}]},n,{amount:null!==(u=i.amount)&&void 0!==u?u:[],gas:null!==(l=i.gas)&&void 0!==l?l:this.msgOpts.redelegate.gas.toString()},o,w.txEventsWithPreOnFulfill(c,e=>{null!=e.code&&0!==e.code||(this.queries.cosmos.queryValidators.getQueryStatus(b.BondStatus.Bonded).fetch(),this.queries.cosmos.queryDelegations.getQueryBech32Address(this.base.bech32Address).fetch(),this.queries.cosmos.queryRewards.getQueryBech32Address(this.base.bech32Address).fetch())}))}))}makeWithdrawDelegationRewardTx(e){for(const t of e)v.Bech32Address.validate(t,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixValAddr);const t=e.map(e=>({type:this.msgOpts.withdrawRewards.type,value:{delegator_address:this.base.bech32Address,validator_address:e}}));return this.makeTx("withdrawRewards",{aminoMsgs:t,protoMsgs:t.map(e=>({typeUrl:"/cosmos.distribution.v1beta1.MsgWithdrawDelegatorReward",value:f.MsgWithdrawDelegatorReward.encode({delegatorAddress:e.value.delegator_address,validatorAddress:e.value.validator_address}).finish()})),rlpTypes:{MsgValue:[{name:"delegator_address",type:"string"},{name:"validator_address",type:"string"}]}},e=>{null!=e.code&&0!==e.code||this.queries.cosmos.queryRewards.getQueryBech32Address(this.base.bech32Address).fetch()})}sendWithdrawDelegationRewardMsgs(e,t="",s={},n,i){var o,a;return r(this,void 0,void 0,(function*(){const r=e.map(e=>({type:this.msgOpts.withdrawRewards.type,value:{delegator_address:this.base.bech32Address,validator_address:e}}));yield this.sendMsgs("withdrawRewards",{aminoMsgs:r,protoMsgs:r.map(e=>({typeUrl:"/cosmos.distribution.v1beta1.MsgWithdrawDelegatorReward",value:f.MsgWithdrawDelegatorReward.encode({delegatorAddress:e.value.delegator_address,validatorAddress:e.value.validator_address}).finish()}))},t,{amount:null!==(o=s.amount)&&void 0!==o?o:[],gas:null!==(a=s.gas)&&void 0!==a?a:(this.msgOpts.withdrawRewards.gas*e.length).toString()},n,w.txEventsWithPreOnFulfill(i,e=>{null!=e.code&&0!==e.code||this.queries.cosmos.queryRewards.getQueryBech32Address(this.base.bech32Address).fetch()}))}))}makeGovVoteTx(e,t){const s=(()=>{switch(t){case"Yes":return 1;case"Abstain":return 2;case"No":return 3;case"NoWithVeto":return 4}})(),r={type:this.msgOpts.govVote.type,value:{option:s,proposal_id:e,voter:this.base.bech32Address}};return this.makeTx("govVote",{aminoMsgs:[r],protoMsgs:[{typeUrl:"/cosmos.gov.v1beta1.MsgVote",value:y.MsgVote.encode({proposalId:r.value.proposal_id,voter:r.value.voter,option:(()=>{switch(r.value.option){case 1:return g.VoteOption.VOTE_OPTION_YES;case 2:return g.VoteOption.VOTE_OPTION_ABSTAIN;case 3:return g.VoteOption.VOTE_OPTION_NO;case 4:return g.VoteOption.VOTE_OPTION_NO_WITH_VETO;default:return g.VoteOption.VOTE_OPTION_UNSPECIFIED}})()}).finish()}],rlpTypes:{MsgValue:[{name:"proposal_id",type:"uint64"},{name:"voter",type:"string"},{name:"option",type:"int32"}]}},t=>{if(null==t.code||0===t.code){const t=this.queries.cosmos.queryGovernance.proposals.find(t=>t.id===e);t&&t.fetch();this.queries.cosmos.queryProposalVote.getVote(e,this.base.bech32Address).fetch()}})}sendGovVoteMsg(e,t,s="",n={},i,o){var a,c;return r(this,void 0,void 0,(function*(){const r=(()=>{switch(t){case"Yes":return 1;case"Abstain":return 2;case"No":return 3;case"NoWithVeto":return 4}})(),u={type:this.msgOpts.govVote.type,value:{option:r,proposal_id:e,voter:this.base.bech32Address}};yield this.sendMsgs("govVote",{aminoMsgs:[u],protoMsgs:[{typeUrl:"/cosmos.gov.v1beta1.MsgVote",value:y.MsgVote.encode({proposalId:u.value.proposal_id,voter:u.value.voter,option:(()=>{switch(u.value.option){case 1:return g.VoteOption.VOTE_OPTION_YES;case 2:return g.VoteOption.VOTE_OPTION_ABSTAIN;case 3:return g.VoteOption.VOTE_OPTION_NO;case 4:return g.VoteOption.VOTE_OPTION_NO_WITH_VETO;default:return g.VoteOption.VOTE_OPTION_UNSPECIFIED}})()}).finish()}]},s,{amount:null!==(a=n.amount)&&void 0!==a?a:[],gas:null!==(c=n.gas)&&void 0!==c?c:this.msgOpts.govVote.gas.toString()},i,w.txEventsWithPreOnFulfill(o,t=>{if(null==t.code||0===t.code){const t=this.queries.cosmos.queryGovernance.proposals.find(t=>t.id===e);t&&t.fetch();this.queries.cosmos.queryProposalVote.getVote(e,this.base.bech32Address).fetch()}}))}))}get queries(){return this.queriesStore.get(this.chainId)}}t.CosmosAccountImpl=I},1526:function(e,t,s){"use strict";var r=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getKeplrFromWindow=void 0;t.getKeplrFromWindow=()=>r(void 0,void 0,void 0,(function*(){if("undefined"!=typeof window)return window.misesWallet||"complete"===document.readyState?window.misesWallet:new Promise(e=>{const t=s=>{s.target&&"complete"===s.target.readyState&&(e(window.misesWallet),document.removeEventListener("readystatechange",t))};document.addEventListener("readystatechange",t)})}))},1527:function(e,t,s){"use strict";var r=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SecretAccountImpl=t.defaultSecretMsgOpts=t.SecretAccount=void 0;const i=s(4),o=s(25),a=s(1528),c=s(16),u=s(27),l=n(s(183)),h=s(698);t.SecretAccount={use:e=>(s,r,n)=>{const i=e.msgOptsCreator?e.msgOptsCreator(n):void 0;return{secret:new d(s,r,n,e.queriesStore,l.default(t.defaultSecretMsgOpts,i||{}))}}},t.defaultSecretMsgOpts={send:{secret20:{gas:25e4}},createSecret20ViewingKey:{gas:15e4},executeSecretWasm:{type:"wasm/MsgExecuteContract"}};class d{constructor(e,t,s,r,n){this.base=e,this.chainGetter=t,this.chainId=s,this.queriesStore=r,this._msgOpts=n,this.base.registerMakeSendTokenFn(this.processMakeSendTokenTx.bind(this)),this.base.registerSendTokenFn(this.processSendToken.bind(this))}get msgOpts(){return this._msgOpts}processMakeSendTokenTx(e,t,s){if("secret20"===new o.DenomHelper(t.coinMinimalDenom).type){const r=(()=>{let s=new u.Dec(e);return s=s.mul(u.DecUtils.getPrecisionDec(t.coinDecimals)),s.truncate().toString()})();if(!("type"in t)||"secret20"!==t.type)throw new Error("Currency is not secret20");return c.Bech32Address.validate(s,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixAccAddr),this.makeExecuteSecretContractTx("send",t.contractAddress,{transfer:{recipient:s,amount:r}},[],e=>{if(null==e.code||0===e.code){const e=this.queries.queryBalances.getQueryBech32Address(this.base.bech32Address).balances.find(e=>e.currency.coinMinimalDenom===t.coinMinimalDenom);e&&e.fetch()}})}}processSendToken(e,t,s,n,i,a,c){var l,d;return r(this,void 0,void 0,(function*(){switch(new o.DenomHelper(t.coinMinimalDenom).type){case"secret20":const r=(()=>{let s=new u.Dec(e);return s=s.mul(u.DecUtils.getPrecisionDec(t.coinDecimals)),s.truncate().toString()})();if(!("type"in t)||"secret20"!==t.type)throw new Error("Currency is not secret20");return yield this.sendExecuteSecretContractMsg("send",t.contractAddress,{transfer:{recipient:s,amount:r}},[],n,{amount:null!==(l=i.amount)&&void 0!==l?l:[],gas:null!==(d=i.gas)&&void 0!==d?d:this.msgOpts.send.secret20.gas.toString()},a,h.txEventsWithPreOnFulfill(c,e=>{if(null==e.code||0===e.code){const e=this.queries.queryBalances.getQueryBech32Address(this.base.bech32Address).balances.find(e=>e.currency.coinMinimalDenom===t.coinMinimalDenom);e&&e.fetch()}})),!0}return!1}))}createSecret20ViewingKey(e,t="",s={},n,o){var a,c;return r(this,void 0,void 0,(function*(){const r=new Uint8Array(32);crypto.getRandomValues(r);const u=i.Buffer.from(r).toString("hex");yield this.makeExecuteSecretContractTx("createSecret20ViewingKey",e,{set_viewing_key:{key:u}},[]).send({amount:null!==(a=s.amount)&&void 0!==a?a:[],gas:null!==(c=s.gas)&&void 0!==c?c:this.msgOpts.createSecret20ViewingKey.gas.toString()},t,n,e=>{let t="";null!=e.code&&0!==e.code||(t=u),o&&o(e,t)})}))}makeExecuteSecretContractTx(e="executeSecretWasm",t,s,n,o){let u;return c.Bech32Address.validate(t,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixAccAddr),this.base.cosmos.makeTx(e,()=>r(this,void 0,void 0,(function*(){u=yield this.encryptSecretContractMsg(t,s);const e={type:this.msgOpts.executeSecretWasm.type,value:{sender:this.base.bech32Address,contract:t,msg:i.Buffer.from(u).toString("base64"),sent_funds:n}};return{aminoMsgs:[e],protoMsgs:[{typeUrl:"/secret.compute.v1beta1.MsgExecuteContract",value:a.MsgExecuteContract.encode(a.MsgExecuteContract.fromPartial({sender:c.Bech32Address.fromBech32(e.value.sender).address,contract:c.Bech32Address.fromBech32(e.value.contract).address,msg:i.Buffer.from(e.value.msg,"base64"),sentFunds:e.value.sent_funds})).finish()}]}})),o)}sendExecuteSecretContractMsg(e="executeSecretWasm",t,s,n,o="",u,l,h){var d;return r(this,void 0,void 0,(function*(){let p;return yield this.base.cosmos.sendMsgs(e,()=>r(this,void 0,void 0,(function*(){p=yield this.encryptSecretContractMsg(t,s);const e={type:this.msgOpts.executeSecretWasm.type,value:{sender:this.base.bech32Address,contract:t,msg:i.Buffer.from(p).toString("base64"),sent_funds:n}};return{aminoMsgs:[e],protoMsgs:[{typeUrl:"/secret.compute.v1beta1.MsgExecuteContract",value:a.MsgExecuteContract.encode(a.MsgExecuteContract.fromPartial({sender:c.Bech32Address.fromBech32(e.value.sender).address,contract:c.Bech32Address.fromBech32(e.value.contract).address,msg:i.Buffer.from(e.value.msg,"base64"),sentFunds:e.value.sent_funds})).finish()}]}})),o,{amount:null!==(d=u.amount)&&void 0!==d?d:[],gas:u.gas},l,h),p}))}encryptSecretContractMsg(e,t){return r(this,void 0,void 0,(function*(){const s=yield this.queries.secret.querySecretContractCodeHash.getQueryContract(e).waitResponse();if(!s)throw new Error(`Can't get the code hash of the contract (${e})`);const r=s.data.result,n=yield this.base.getKeplr();if(!n)throw new Error("Can't get the Keplr API");const i=n.getEnigmaUtils(this.chainId);return yield i.encrypt(r,t)}))}get queries(){return this.queriesStore.get(this.chainId)}}t.SecretAccountImpl=d},1529:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccountStore=void 0;const r=s(132),n=s(933);class i extends r.HasMapStore{constructor(e,t,s,...i){super(i=>{const o=new n.AccountSetBaseSuper(e,t,i,s(i));return r.mergeStores(o,[this.chainGetter,i],...this.accountSetCreators)}),this.eventListener=e,this.chainGetter=t,this.storeOptsCreator=s,this.accountSetCreators=i}getAccount(e){return this.get(e)}hasAccount(e){return this.has(e)}}t.AccountStore=i},1530:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryMap=t.ObservableQuery=t.ObservableQueryBase=t.DeferInitialQueryController=t.defaultOptions=void 0;const o=s(5),a=i(s(50)),c=s(25),u=s(1085),l=i(s(1340));t.defaultOptions={cacheMaxAge:0,fetchingInterval:0};class h extends Error{constructor(e){super(e),Object.setPrototypeOf(this,h.prototype)}}class d{constructor(){this.rejectors=[]}get hasCancelable(){return this.rejectors.length>0}cancel(e){for(;this.rejectors.length>0;){const t=this.rejectors.shift();t&&(t.reject(new h(e)),t.onCancel&&t.onCancel())}}callOrCanceledWithPromise(e,t){return new Promise((s,r)=>{this.rejectors.push({reject:r,onCancel:t}),e.then(e=>{const t=this.rejectors.findIndex(e=>e.reject===r);t>=0&&this.rejectors.splice(t,1),s(e)},e=>{const t=this.rejectors.findIndex(e=>e.reject===r);t>=0&&this.rejectors.splice(t,1),r(e)})})}callOrCanceled(e,t){return new Promise((s,r)=>{this.rejectors.push({reject:r,onCancel:t}),Promise.resolve().then(()=>{this.rejectors.find(e=>e.reject===r)&&e().then(e=>{const t=this.rejectors.findIndex(e=>e.reject===r);t>=0&&this.rejectors.splice(t,1),s(e)},e=>{const t=this.rejectors.findIndex(e=>e.reject===r);t>=0&&this.rejectors.splice(t,1),r(e)})})})}}class p{constructor(){this._isReady=!1,o.makeObservable(this)}ready(){this._isReady=!0}wait(){return this.isReady?Promise.resolve():new Promise(e=>{const t=o.autorun(()=>{this.isReady&&(e(),t&&t())})})}get isReady(){return this._isReady}}r([o.observable],p.prototype,"_isReady",void 0),r([o.action],p.prototype,"ready",null),t.DeferInitialQueryController=p;class f{constructor(e,s){this._response=void 0,this._isFetching=!1,this._error=void 0,this._isStarted=!1,this._pendingOnStart=!1,this.observedCount=0,this.intervalId=void 0,this.becomeObserved=()=>{0===this.observedCount&&this.start(),this.observedCount++},this.becomeUnobserved=()=>{this.observedCount--,0===this.observedCount&&this.stop()},this.intervalFetch=()=>{this.isFetching||this.fetch()},this.options=Object.assign(Object.assign({},t.defaultOptions),s),this._instance=e,this.queryCanceler=new d,this.onStartCanceler=new d,this.queryControllerConceler=new d,o.makeObservable(this),o.onBecomeObserved(this,"_response",this.becomeObserved),o.onBecomeObserved(this,"_isFetching",this.becomeObserved),o.onBecomeObserved(this,"_error",this.becomeObserved),o.onBecomeUnobserved(this,"_response",this.becomeUnobserved),o.onBecomeUnobserved(this,"_isFetching",this.becomeUnobserved),o.onBecomeUnobserved(this,"_error",this.becomeUnobserved)}static guessResponseTruncated(e,t){return e&&"string"==typeof e["content-type"]&&e["content-type"].startsWith("application/json")&&t.startsWith("{")}get isObserved(){return this.observedCount>0}start(){if(!this._isStarted){this._isStarted=!0;const e=this.onStart();e?this.handleAsyncOnStart(e):this.postStart()}}*handleAsyncOnStart(e){this._pendingOnStart=!0,this._isFetching=!0;try{yield this.onStartCanceler.callOrCanceledWithPromise(e),this._isStarted&&(this._pendingOnStart=!1,this.postStart())}catch(e){if(e instanceof h)return;throw e}}stop(){this._isStarted&&(this.onStartCanceler.hasCancelable&&this.onStartCanceler.cancel(),this.isFetching&&this.queryCanceler.hasCancelable&&this.cancel(),this._pendingOnStart=!1,this._isFetching=!1,null!=this.intervalId&&clearInterval(this.intervalId),this.intervalId=void 0,this.onStop(),this._isStarted=!1)}get isStarted(){return this._isStarted}postStart(){this.fetch(),this.options.fetchingInterval>0&&(this.intervalId=setInterval(this.intervalFetch,this.options.fetchingInterval))}onStart(){}onStop(){}canFetch(){return!0}get isFetching(){return this._isFetching}get instance(){return this._instance}*fetch(){var e,t,s;if(!this.isStarted||this._pendingOnStart)return;if(f.experimentalDeferInitialQueryController&&!f.experimentalDeferInitialQueryController.isReady){this._isFetching=!0,this.queryControllerConceler.hasCancelable&&this.queryControllerConceler.cancel();try{yield this.queryControllerConceler.callOrCanceled(()=>{var e,t;return null!==(t=null===(e=f.experimentalDeferInitialQueryController)||void 0===e?void 0:e.wait())&&void 0!==t?t:Promise.resolve()})}catch(e){if(e instanceof h)return;throw e}if(!this.isStarted)return}if(!this.canFetch())return;if(this.isFetching&&this.queryCanceler.hasCancelable&&this.cancel("__fetching__proceed__next__"),this._response){if(this.options.cacheMaxAge>0&&this._response.timestamp>Date.now()-this.options.cacheMaxAge)return void(this._isFetching=!1);this._isFetching=!0,this.setResponse(Object.assign(Object.assign({},this._response),{staled:!0}))}else{this._isFetching=!0;const e=this.loadStaledResponse(),t=e=>!(!e||this._response||!(this.options.cacheMaxAge<=0||e.timestamp>Date.now()-this.options.cacheMaxAge))&&(this.setResponse(e),!0);if(this.options.cacheMaxAge<=0)e.then(e=>{t(e)});else{const s=yield*c.toGenerator(e);if(t(s))return void(this._isFetching=!1)}}const r=new AbortController;let n=!1,i=!1;try{let e=!1,{response:t,headers:s}=yield*c.toGenerator(this.queryCanceler.callOrCanceled(()=>(e=!0,this.fetchResponse(r)),()=>{e&&r.abort()}));if(t.data&&"string"==typeof t.data&&(t.data.startsWith("stream was reset:")||y.suspectedResponseDatasWithInvalidValue.includes(t.data)||y.guessResponseTruncated(s,t.data))){if(r.signal.aborted)return;console.log("There is an unknown problem to the response. Request one more time.");let e=!1;const n=yield*c.toGenerator(this.queryCanceler.callOrCanceled(()=>(e=!0,this.fetchResponse(r)),()=>{e&&r.abort()}));if(t=n.response,s=n.headers,t.data&&"string"==typeof t.data){if(t.data.startsWith("stream was reset:")||y.suspectedResponseDatasWithInvalidValue.includes(t.data))throw new Error(t.data);if(y.guessResponseTruncated(s,t.data))throw new Error("The response data seems to be truncated")}}this.setResponse(t),this.setError(void 0),this.saveResponse(t)}catch(r){if(a.default.isCancel(r))return void(i=!0);if(r instanceof h)return void("__fetching__proceed__next__"===r.message&&(n=!0));if(r.response){let n=r.response.statusText;const i="string"==typeof(null===(e=r.response.headers)||void 0===e?void 0:e["content-type"])?r.response.headers["content-type"]:"";i.startsWith("text/plain")&&"string"==typeof r.response.data&&(n=r.response.data),i.startsWith("application/json")&&(null===(t=r.response.data)||void 0===t?void 0:t.message)&&"string"==typeof(null===(s=r.response.data)||void 0===s?void 0:s.message)&&(n=r.response.data.message);const o={status:r.response.status,statusText:r.response.statusText,message:n,data:r.response.data};this.setError(o)}else if(r.request){const e={status:0,statusText:"Failed to get response",message:"Failed to get response"};this.setError(e)}else{const e={status:0,statusText:r.message,message:r.message,data:r};this.setError(e)}}finally{i||n||(this._isFetching=!1)}}get response(){return this._response}get error(){return this._error}setResponse(e){this._response=e}setError(e){this._error=e}cancel(e){this.queryCanceler.cancel(e)}waitResponse(){if(this.response)return Promise.resolve(this.response);const e=[];let t=!1;return e.push(o.reaction(()=>this.isFetching,()=>{t||(this.isFetching||this.fetch(),t=!0)},{fireImmediately:!0})),new Promise(t=>{const s=o.autorun(()=>{this.isFetching||t(this.response)});e.push(s)}).finally(()=>{for(const t of e)t()})}waitFreshResponse(){const e=[];let t=!1;return e.push(o.reaction(()=>this.isFetching,()=>{t||(this.isFetching||this.fetch(),t=!0)},{fireImmediately:!0})),new Promise(t=>{const s=o.autorun(()=>{this.isFetching||t(this.response)});e.push(s)}).finally(()=>{for(const t of e)t()})}}f.experimentalDeferInitialQueryController=void 0,f.suspectedResponseDatasWithInvalidValue=["The network connection was lost.","The request timed out."],r([o.observable.ref],f.prototype,"_response",void 0),r([o.observable],f.prototype,"_isFetching",void 0),r([o.observable.ref],f.prototype,"_error",void 0),r([o.observable],f.prototype,"_isStarted",void 0),r([o.observable.ref],f.prototype,"_instance",void 0),r([o.action],f.prototype,"start",null),r([o.flow],f.prototype,"handleAsyncOnStart",null),r([o.action],f.prototype,"stop",null),r([o.computed],f.prototype,"instance",null),r([o.flow],f.prototype,"fetch",null),r([o.action],f.prototype,"setResponse",null),r([o.action],f.prototype,"setError",null),t.ObservableQueryBase=f;class y extends f{constructor(e,t,s,r={}){super(t,r),this.kvStore=e,this._url="",this.refreshHandler=e=>{(null==e?void 0:e.ifError)?this.error&&this.fetch():this.fetch()},o.makeObservable(this),this.setUrl(s)}static refreshAllObserved(){y.eventListener.emit("refresh")}static refreshAllObservedIfError(){y.eventListener.emit("refresh",{ifError:!0})}onStart(){super.onStart(),y.eventListener.addListener("refresh",this.refreshHandler)}onStop(){super.onStop(),y.eventListener.addListener("refresh",this.refreshHandler)}get url(){return this._url}setUrl(e){this._url!==e&&(this._url=e,this.fetch())}fetchResponse(e){return n(this,void 0,void 0,(function*(){const t=yield this.instance.get(this.url,{signal:e.signal});return{headers:t.headers,response:{data:t.data,status:t.status,staled:!1,timestamp:Date.now()}}}))}getCacheKey(){return`${this.instance.name}-${this.instance.defaults.baseURL}${this.instance.getUri({url:this.url})}`}saveResponse(e){return n(this,void 0,void 0,(function*(){const t=this.getCacheKey();yield this.kvStore.set(t,e)}))}loadStaledResponse(){return n(this,void 0,void 0,(function*(){const e=this.getCacheKey(),t=yield this.kvStore.get(e);if(t)return Object.assign(Object.assign({},t),{staled:!0})}))}}y.eventListener=new l.default,r([o.observable],y.prototype,"_url",void 0),r([o.action],y.prototype,"setUrl",null),t.ObservableQuery=y;class g extends u.HasMapStore{constructor(e){super(e)}}t.ObservableQueryMap=g},1531:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableJsonRPCQueryMap=t.ObservableJsonRPCQuery=void 0;const i=s(1339),o=s(5),a=s(52),c=s(4),u=s(1085);class l extends i.ObservableQuery{constructor(e,t,s,r,n,i={}){super(e,t,s,i),this.method=r,this._params=n,o.makeObservable(this)}get params(){return this._params}setParams(e){this._params=e,this.fetch()}fetchResponse(e){return n(this,void 0,void 0,(function*(){const t=yield this.instance.post(this.url,{jsonrpc:"2.0",id:"1",method:this.method,params:this.params},{signal:e.signal});if(t.data.error&&t.data.error.message)throw new Error(t.data.error.message);if(!t.data.result)throw new Error("Unknown error");return{headers:t.headers,response:{data:t.data.result,status:t.status,staled:!1,timestamp:Date.now()}}}))}getCacheKey(){const e=c.Buffer.from(a.Hash.sha256(c.Buffer.from(JSON.stringify(this.params))).slice(0,8)).toString("hex");return`${super.getCacheKey()}-${this.method}-${e}`}}r([o.observable.ref],l.prototype,"_params",void 0),r([o.action],l.prototype,"setParams",null),t.ObservableJsonRPCQuery=l;class h extends u.HasMapStore{constructor(e){super(e)}}t.ObservableJsonRPCQueryMap=h},1532:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StoreUtils=void 0;const r=s(27);class n{static getBalancesFromCurrencies(e,t){const s=[];for(const n of t){const t=e[n.denom];if(t){const e=new r.Dec(n.amount);e.truncate().gt(new r.Int(0))&&s.push(new r.CoinPretty(t,e))}}return s}static getBalanceFromCurrency(e,t){const s=n.getBalancesFromCurrencies({[e.coinMinimalDenom]:e},t);return 1===s.length?s[0]:new r.CoinPretty(e,new r.Int(0)).ready(!1)}}t.StoreUtils=n},1533:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1534:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeStores=void 0;t.mergeStores=(e,t,...s)=>{for(let r=0;r<s.length;r++){const n=(0,s[r])(e,...t);for(const t of Object.keys(n)){if(e[t])throw new Error(t+" is already merged");e[t]=n[t]}}return e}},1535:function(e,t,s){"use strict";var r=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CosmwasmAccountImpl=t.defaultCosmwasmMsgOpts=t.CosmwasmAccount=void 0;const i=s(25),o=s(27),a=s(694),c=s(4),u=n(s(183)),l=s(698),h=s(16);t.CosmwasmAccount={use:e=>(s,r,n)=>{const i=e.msgOptsCreator?e.msgOptsCreator(n):void 0;return{cosmwasm:new d(s,r,n,e.queriesStore,u.default(t.defaultCosmwasmMsgOpts,i||{}))}}},t.defaultCosmwasmMsgOpts={send:{cw20:{gas:15e4}},executeWasm:{type:"wasm/MsgExecuteContract"}};class d{constructor(e,t,s,r,n){this.base=e,this.chainGetter=t,this.chainId=s,this.queriesStore=r,this._msgOpts=n,this.base.registerMakeSendTokenFn(this.processMakeSendTokenTx.bind(this)),this.base.registerSendTokenFn(this.processSendToken.bind(this))}get msgOpts(){return this._msgOpts}processMakeSendTokenTx(e,t,s){if("cw20"===new i.DenomHelper(t.coinMinimalDenom).type){const r=(()=>{let s=new o.Dec(e);return s=s.mul(o.DecUtils.getPrecisionDec(t.coinDecimals)),s.truncate().toString()})();if(!("type"in t)||"cw20"!==t.type)throw new Error("Currency is not cw20");return h.Bech32Address.validate(s,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixAccAddr),this.makeExecuteContractTx("send",t.contractAddress,{transfer:{recipient:s,amount:r}},[],e=>{if(null==e.code||0===e.code){const e=this.queries.queryBalances.getQueryBech32Address(this.base.bech32Address).balances.find(e=>e.currency.coinMinimalDenom===t.coinMinimalDenom);e&&e.fetch()}})}}processSendToken(e,t,s,n,a,c,u){var h,d;return r(this,void 0,void 0,(function*(){switch(new i.DenomHelper(t.coinMinimalDenom).type){case"cw20":const r=(()=>{let s=new o.Dec(e);return s=s.mul(o.DecUtils.getPrecisionDec(t.coinDecimals)),s.truncate().toString()})();if(!("type"in t)||"cw20"!==t.type)throw new Error("Currency is not cw20");return yield this.sendExecuteContractMsg("send",t.contractAddress,{transfer:{recipient:s,amount:r}},[],n,{amount:null!==(h=a.amount)&&void 0!==h?h:[],gas:null!==(d=a.gas)&&void 0!==d?d:this.msgOpts.send.cw20.gas.toString()},c,l.txEventsWithPreOnFulfill(u,e=>{if(null==e.code||0===e.code){const e=this.queries.queryBalances.getQueryBech32Address(this.base.bech32Address).balances.find(e=>e.currency.coinMinimalDenom===t.coinMinimalDenom);e&&e.fetch()}})),!0}return!1}))}makeExecuteContractTx(e="executeWasm",t,s,r,n){h.Bech32Address.validate(t,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixAccAddr);const i={type:this.msgOpts.executeWasm.type,value:{sender:this.base.bech32Address,contract:t,msg:s,funds:r}};return this.base.cosmos.makeTx(e,{aminoMsgs:[i],protoMsgs:[{typeUrl:"/cosmwasm.wasm.v1.MsgExecuteContract",value:a.MsgExecuteContract.encode({sender:i.value.sender,contract:i.value.contract,msg:c.Buffer.from(JSON.stringify(i.value.msg)),funds:i.value.funds}).finish()}]},n)}sendExecuteContractMsg(e="executeWasm",t,s,n,i="",o,u,l){var h;return r(this,void 0,void 0,(function*(){const r={type:this.msgOpts.executeWasm.type,value:{sender:this.base.bech32Address,contract:t,msg:s,funds:n}};yield this.base.cosmos.sendMsgs(e,{aminoMsgs:[r],protoMsgs:[{typeUrl:"/cosmwasm.wasm.v1.MsgExecuteContract",value:a.MsgExecuteContract.encode({sender:r.value.sender,contract:r.value.contract,msg:c.Buffer.from(JSON.stringify(r.value.msg)),funds:r.value.funds}).finish()}]},i,{amount:null!==(h=o.amount)&&void 0!==h?h:[],gas:o.gas},u,l)}))}get queries(){return this.queriesStore.get(this.chainId)}}t.CosmwasmAccountImpl=d},1536:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoinGeckoPriceStore=void 0;const o=s(132),a=i(s(50)),c=s(25),u=s(27),l=i(s(183)),h=s(5);class d{constructor(e){this.duration=e,this.fns=[],this.callback=()=>{if(null!=this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0),this.fns.length>0){(0,this.fns[this.fns.length-1])(),this.fns=[]}}}call(e){this.duration<=0?e():(this.fns.push(e),null!=this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout(this.callback,this.duration))}}class p{constructor(e,t,s=0){if(this.array=[],this.map={},this.restored={},this.isRestored=!1,this.storeKey="",!t)throw new Error("Empty store key");this.kvStore=e,this.storeKey=t,this.throttler=new d(s)}has(e){return!0===this.map[e]}add(...e){let t=!1,s=[];for(const r of e)this.isRestored&&this.restored[r]&&(t=!0,delete this.restored[r]),this.has(r)||s.push(r);if(0===s.length)return this.isRestored&&t&&this.throttler.call(()=>this.save()),!1;s=[...new Set(s)];for(const e of s)this.map[e]=!0;let r=this.array.slice().concat(s);return r=r.sort((e,t)=>e<t?-1:1),this.array=r,this.isRestored&&this.throttler.call(()=>this.save()),!0}get values(){return this.array.slice()}save(){return n(this,void 0,void 0,(function*(){yield this.kvStore.set(this.storeKey,this.array.filter(e=>!this.restored[e]))}))}restore(){return n(this,void 0,void 0,(function*(){const e=yield this.kvStore.get(this.storeKey);if(e){for(const t of e)this.restored[t]=!0;for(const e of this.array)this.restored[e]&&delete this.restored[e];this.add(...e)}this.isRestored=!0}))}}class f extends o.ObservableQuery{constructor(e,t,s,r={}){var n;super(e,a.default.create({baseURL:r.baseURL||"https://api.coingecko.com/api/v3"}),"/simple/price"),this.isInitialized=!1;const i=null!==(n=r.throttleDuration)&&void 0!==n?n:250;this._coinIds=new p(e,"__coin_ids",i),this._vsCurrencies=new p(e,"__vs_currencies",i),this._defaultVsCurrency=s,this._supportedVsCurrencies=t,this._throttler=new d(i),h.makeObservable(this),this.restoreDefaultVsCurrency()}onStart(){return super.onStart(),this.init()}init(){return n(this,void 0,void 0,(function*(){this.isInitialized||(yield Promise.all([this._coinIds.restore(),this._vsCurrencies.restore()]),this._coinIds.save(),this._vsCurrencies.save(),this.updateURL([],[],!0),this.isInitialized=!0)}))}get defaultVsCurrency(){return this._defaultVsCurrency}setDefaultVsCurrency(e){this._defaultVsCurrency=e,this.saveDefaultVsCurrency()}*restoreDefaultVsCurrency(){const e=yield*c.toGenerator(this.kvStore.get("__default_vs_currency"));e&&(this._defaultVsCurrency=e)}saveDefaultVsCurrency(){return n(this,void 0,void 0,(function*(){yield this.kvStore.set("__default_vs_currency",this.defaultVsCurrency)}))}get supportedVsCurrencies(){return this._supportedVsCurrencies}getFiatCurrency(e){return this._supportedVsCurrencies[e]}canFetch(){return!1}fetchResponse(e){const t=Object.create(null,{fetchResponse:{get:()=>super.fetchResponse}});return n(this,void 0,void 0,(function*(){const{response:s,headers:r}=yield t.fetchResponse.call(this,e);return{headers:r,response:Object.assign(Object.assign({},s),{data:l.default(this.response?this.response.data:{},s.data)})}}))}updateURL(e,t,s=!1){const r=this._coinIds.add(...e),n=this._vsCurrencies.add(...t);if(r||n||s){const e=`/simple/price?ids=${this._coinIds.values.join(",")}&vs_currencies=${this._vsCurrencies.values.join(",")}`;this.isInitialized?this._throttler.call(()=>this.setUrl(e)):this.setUrl(e)}}getCacheKey(){return`${this.instance.name}-${this.instance.defaults.baseURL}${this.instance.getUri({url:"/simple/price"})}`}getPrice(e,t){if(t||(t=this.defaultVsCurrency),!this.supportedVsCurrencies[t])return;if(this.updateURL([e],[t]),!this.response)return;const s=this.response.data[e];return s?s[t]:void 0}calculatePrice(e,t){if(!e.currency.coinGeckoId)return;t||(t=this.defaultVsCurrency);const s=this.supportedVsCurrencies[t];if(!s)return;const r=this.getPrice(e.currency.coinGeckoId,t);if(void 0===r)return new u.PricePretty(s,new u.Int(0)).ready(!1);const n=e.toDec(),i=new u.Dec(r.toString());return new u.PricePretty(s,n.mul(i))}}r([h.observable],f.prototype,"_defaultVsCurrency",void 0),r([h.action],f.prototype,"setDefaultVsCurrency",null),r([h.flow],f.prototype,"restoreDefaultVsCurrency",null),t.CoinGeckoPriceStore=f},1537:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1538),t),n(s(63),t),n(s(562),t),n(s(1539),t),n(s(1578),t),n(s(1582),t),n(s(1586),t)},1538:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.QueriesStore=t.createQueriesSetBase=void 0;const n=s(5),i=s(562),o=s(132);t.createQueriesSetBase=(e,t,s)=>({queryBalances:new i.ObservableQueryBalances(e,t,s)});class a{constructor(e,t,...s){this.kvStore=e,this.chainGetter=t,this.queriesMap=new Map,this.queriesCreators=s,n.makeObservable(this)}get(e){if(!this.queriesMap.has(e)){const s=t.createQueriesSetBase(this.kvStore,e,this.chainGetter);n.runInAction(()=>{const t=o.mergeStores(s,[this.kvStore,e,this.chainGetter],...this.queriesCreators);this.queriesMap.set(e,t)})}return this.queriesMap.get(e)}}r([n.observable.shallow],a.prototype,"queriesMap",void 0),t.QueriesStore=a},1539:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&r(t,e,s);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Balance=t.IBC=t.Account=t.Supply=t.Staking=t.Governance=void 0,i(s(1341),t),i(s(1345),t),i(s(1346),t),i(s(1347),t),i(s(1348),t),i(s(1349),t),t.Governance=o(s(1344)),t.Staking=o(s(934)),t.Supply=o(s(1561)),t.Account=o(s(1562)),t.IBC=o(s(1563)),t.Balance=o(s(1564)),i(s(1565),t)},1540:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryGovernance=void 0;const n=s(63),i=s(5),o=s(1342),a=s(27),c=s(221),u=s(1343);class l extends n.ObservableChainQuery{constructor(e,t,s,r){super(e,t,s,"/cosmos/gov/v1beta1/proposals?pagination.limit=3000"),this._queryPool=r,this.paramDeposit=void 0,this.paramVoting=void 0,this.paramTally=void 0,this.getProposal=c.computedFn(e=>this.proposals.find(t=>t.id===e)),i.makeObservable(this)}getQueryPool(){return this._queryPool}getQueryParamDeposit(){return this.paramDeposit||i.runInAction(()=>{this.paramDeposit=new o.ObservableQueryGovParamDeposit(this.kvStore,this.chainId,this.chainGetter)}),this.paramDeposit}getQueryParamVoting(){return this.paramVoting||i.runInAction(()=>{this.paramVoting=new o.ObservableQueryGovParamVoting(this.kvStore,this.chainId,this.chainGetter)}),this.paramVoting}getQueryParamTally(){return this.paramTally||i.runInAction(()=>{this.paramTally=new o.ObservableQueryGovParamTally(this.kvStore,this.chainId,this.chainGetter)}),this.paramTally}get quorum(){const e=this.getQueryParamTally();if(!e.response)return new a.IntPretty(new a.Int(0)).ready(!1);let t=new a.Dec(e.response.data.tally_params.quorum);return t=t.mulTruncate(a.DecUtils.getPrecisionDec(2)),new a.IntPretty(t)}get proposals(){if(!this.response)return[];const e=[];for(const t of this.response.data.proposals)e.push(new u.ObservableQueryProposal(this.kvStore,this.chainId,this.chainGetter,t,this));return e.reverse()}}r([i.observable.ref],l.prototype,"paramDeposit",void 0),r([i.observable.ref],l.prototype,"paramVoting",void 0),r([i.observable.ref],l.prototype,"paramTally",void 0),r([i.computed],l.prototype,"quorum",null),r([i.computed],l.prototype,"proposals",null),t.ObservableQueryGovernance=l},1541:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryProposalVote=t.ObservableQueryProposalVoteInner=void 0;const r=s(63);class n extends r.ObservableChainQuery{constructor(e,t,s,r,n){super(e,t,s,`/cosmos/gov/v1beta1/proposals/${r}/votes/${n}`),this.proposalId=r,this.bech32Address=n}get vote(){if(!this.response)return"Unspecified";switch(this.response.data.vote.option){case"VOTE_OPTION_YES":return"Yes";case"VOTE_OPTION_ABSTAIN":return"Abstain";case"VOTE_OPTION_NO":return"No";case"VOTE_OPTION_NO_WITH_VETO":return"NoWithVeto";default:return"Unspecified"}}canFetch(){return this.bech32Address.length>0}}t.ObservableQueryProposalVoteInner=n;class i extends r.ObservableChainQueryMap{constructor(e,t,s){super(e,t,s,e=>{const{proposalId:t,voter:s}=JSON.parse(e);return new n(this.kvStore,this.chainId,this.chainGetter,t,s)}),this.kvStore=e,this.chainId=t,this.chainGetter=s}getVote(e,t){const s=JSON.stringify({proposalId:e,voter:t});return this.get(s)}}t.ObservableQueryProposalVote=i},1542:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryDelegations=t.ObservableQueryDelegationsInner=void 0;const i=s(63),o=s(27),a=s(5),c=s(221),u=s(264);class l extends i.ObservableChainQuery{constructor(e,t,s,r,n){super(e,t,s,`/cosmos/staking/v1beta1/delegations/${r}?pagination.limit=1000`),this.duplicatedFetchCheck=!0,this.getDelegationTo=c.computedFn(e=>{const t=this.delegations,s=this.chainGetter.getChain(this.chainId).stakeCurrency;if(!this.response)return new o.CoinPretty(s,new o.Int(0)).ready(!1);for(const r of t)if(r.delegation.validatorAddress===e)return new o.CoinPretty(s,new o.Int(r.balance.amount));return new o.CoinPretty(s,new o.Int(0))}),this.QueryClient=new u.QueryClient,a.makeObservable(this),this.bech32Address=r,this.misesStore=n}canFetch(){return this.bech32Address.length>0}get total(){const e=this.chainGetter.getChain(this.chainId).stakeCurrency;if(!this.response)return new o.CoinPretty(e,new o.Int(0)).ready(!1);let t=new o.Int(0);for(const e of this.delegations)t=t.add(new o.Int(e.balance.amount));return new o.CoinPretty(e,t)}get delegationBalances(){if(!this.response)return[];const e=this.chainGetter.getChain(this.chainId).stakeCurrency,t=[];if(this.delegations)for(const s of this.delegations)t.push({validatorAddress:s.delegation.validatorAddress,balance:new o.CoinPretty(e,new o.Int(s.balance.amount))});return t}get delegations(){var e,t;return this.response&&(null===(t=null===(e=this.response)||void 0===e?void 0:e.data)||void 0===t?void 0:t.delegationResponses)||[]}*fetch(){var e;this.bech32Address&&(null===(e=this.QueryClient)||void 0===e||e.fetchQuery("delegations",()=>n(this,void 0,void 0,(function*(){const e=yield this.misesStore.delegations(this.bech32Address);this.setResponse({data:e,status:200,staled:!0,timestamp:(new Date).getTime()})})),this.fetchConfig))}}r([a.computed],l.prototype,"total",null),r([a.computed],l.prototype,"delegationBalances",null),r([a.computed],l.prototype,"delegations",null),r([a.override],l.prototype,"fetch",null),t.ObservableQueryDelegationsInner=l;class h extends i.ObservableChainQueryMap{constructor(e,t,s,r){super(e,t,s,e=>new l(this.kvStore,this.chainId,this.chainGetter,e,this.misesStore)),this.kvStore=e,this.chainId=t,this.chainGetter=s,this.misesStore=r}getQueryBech32Address(e){return this.get(e)}}t.ObservableQueryDelegations=h},1543:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryRewards=t.ObservableQueryRewardsInner=void 0;const i=s(63),o=s(5),a=s(27),c=s(132),u=s(221),l=s(264);class h extends i.ObservableChainQuery{constructor(e,t,s,r,n){super(e,t,s,`/cosmos/distribution/v1beta1/delegators/${r}/rewards`),this.duplicatedFetchCheck=!0,this.getRewardsOf=u.computedFn(e=>{var t,s,r;const n=this.chainGetter.getChain(this.chainId).currencies.reduce((e,t)=>("type"in t||(e[t.coinMinimalDenom]=t),e),{}),i=null===(s=null===(t=this.response)||void 0===t?void 0:t.data.rewards)||void 0===s?void 0:s.find(t=>t.validatorAddress===e);return c.StoreUtils.getBalancesFromCurrencies(n,null!==(r=null==i?void 0:i.reward)&&void 0!==r?r:[])}),this.getStakableRewardOf=u.computedFn(e=>{var t,s,r;const n=this.chainGetter.getChain(this.chainId),i=null===(s=null===(t=this.response)||void 0===t?void 0:t.data.rewards)||void 0===s?void 0:s.find(t=>t.validatorAddress===e);return c.StoreUtils.getBalanceFromCurrency(n.stakeCurrency,null!==(r=null==i?void 0:i.reward)&&void 0!==r?r:[])}),this.getUnstakableRewardsOf=u.computedFn(e=>{var t,s,r;const n=this.chainGetter.getChain(this.chainId),i=n.currencies.reduce((e,t)=>("type"in t||t.coinMinimalDenom===n.stakeCurrency.coinMinimalDenom||(e[t.coinMinimalDenom]=t),e),{}),o=null===(s=null===(t=this.response)||void 0===t?void 0:t.data.rewards)||void 0===s?void 0:s.find(t=>t.validatorAddress===e);return c.StoreUtils.getBalancesFromCurrencies(i,null!==(r=null==o?void 0:o.reward)&&void 0!==r?r:[])}),this.getDescendingPendingRewardValidatorAddresses=u.computedFn(e=>{var t,s;if(!this.response)return[];const r=this.chainGetter.getChain(this.chainId),n=null!==(s=null===(t=this.response.data.rewards)||void 0===t?void 0:t.slice())&&void 0!==s?s:[];return n.sort((e,t)=>{var s,n;const i=c.StoreUtils.getBalanceFromCurrency(r.stakeCurrency,null!==(s=e.reward)&&void 0!==s?s:[]),o=c.StoreUtils.getBalanceFromCurrency(r.stakeCurrency,null!==(n=t.reward)&&void 0!==n?n:[]);return i.toDec().gt(o.toDec())?-1:1}),n.filter(e=>{if(e.reward)for(const t of e.reward){if(new a.Dec(t.amount).truncate().gt(new a.Int(0)))return!0}return!1}).slice(0,e).map(e=>e.validatorAddress)}),this.QueryClient=new l.QueryClient,o.makeObservable(this),this.bech32Address=r,this.misesStore=n}canFetch(){return this.bech32Address.length>0}get rewards(){var e,t,s;const r=this.chainGetter.getChain(this.chainId).currencies.reduce((e,t)=>("type"in t||(e[t.coinMinimalDenom]=t),e),{});return c.StoreUtils.getBalancesFromCurrencies(r,null!==(s=null===(t=null===(e=this.response)||void 0===e?void 0:e.data)||void 0===t?void 0:t.total)&&void 0!==s?s:[])}get stakableReward(){var e,t,s;const r=this.chainGetter.getChain(this.chainId);return c.StoreUtils.getBalanceFromCurrency(r.stakeCurrency,null!==(s=null===(t=null===(e=this.response)||void 0===e?void 0:e.data)||void 0===t?void 0:t.total)&&void 0!==s?s:[])}get unstakableRewards(){var e,t;const s=this.chainGetter.getChain(this.chainId),r=s.currencies.reduce((e,t)=>("type"in t||t.coinMinimalDenom===s.stakeCurrency.coinMinimalDenom||(e[t.coinMinimalDenom]=t),e),{});return c.StoreUtils.getBalancesFromCurrencies(r,null!==(t=null===(e=this.response)||void 0===e?void 0:e.data.total)&&void 0!==t?t:[])}get pendingRewardValidatorAddresses(){var e;if(!this.response)return[];const t=[];for(const s of null!==(e=this.response.data.rewards)&&void 0!==e?e:[])if(s.reward)for(const e of s.reward){if(new a.Dec(e.amount).truncate().gt(new a.Int(0))){t.push(s.validatorAddress);break}}return t}*fetch(){var e;this.bech32Address&&(null===(e=this.QueryClient)||void 0===e||e.fetchQuery("rewards",()=>n(this,void 0,void 0,(function*(){const e=yield this.misesStore.rewards(this.bech32Address);e&&e.total[0]&&(e.total[0].amount=Number(e.total[0].amount)/Math.pow(10,18)),this.setResponse({data:e,status:200,staled:!0,timestamp:(new Date).getTime()})})),this.fetchConfig))}}r([o.computed],h.prototype,"rewards",null),r([o.computed],h.prototype,"stakableReward",null),r([o.computed],h.prototype,"unstakableRewards",null),r([o.computed],h.prototype,"pendingRewardValidatorAddresses",null),r([o.override],h.prototype,"fetch",null),t.ObservableQueryRewardsInner=h;class d extends i.ObservableChainQueryMap{constructor(e,t,s,r){super(e,t,s,e=>new h(this.kvStore,this.chainId,this.chainGetter,e,r)),this.kvStore=e,this.chainId=t,this.chainGetter=s,this.misesStore=r}getQueryBech32Address(e){return this.get(e)}}t.ObservableQueryRewards=d},1544:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryUnbondingDelegations=t.ObservableQueryUnbondingDelegationsInner=void 0;const i=s(63),o=s(27),a=s(5),c=s(264);class u extends i.ObservableChainQuery{constructor(e,t,s,r,n){super(e,t,s,`/cosmos/staking/v1beta1/delegators/${r}/unbonding_delegations?pagination.limit=1000`),this.duplicatedFetchCheck=!0,this.QueryClient=new c.QueryClient,a.makeObservable(this),this.bech32Address=r,this.misesStore=n}canFetch(){var e;return(null===(e=this.bech32Address)||void 0===e?void 0:e.length)>0}get total(){const e=this.chainGetter.getChain(this.chainId).stakeCurrency;if(!this.response)return new o.CoinPretty(e,new o.Int(0)).ready(!1);let t=new o.Int(0);for(const e of this.unbondings)for(const s of e.entries)t=t.add(new o.Int(s.balance));return new o.CoinPretty(e,t)}get unbondingBalances(){const e=this.unbondings,t=this.chainGetter.getChain(this.chainId).stakeCurrency,s=[];for(const r of e){const e=[];for(const s of r.entries)e.push({creationHeight:new o.Int(s.creationHeight),completionTime:s.completionTime,balance:new o.CoinPretty(t,new o.Int(s.balance))});s.push({validatorAddress:r.validatorAddress,entries:e})}return s}get unbondings(){var e;return this.response&&(null===(e=this.response.data)||void 0===e?void 0:e.unbondingResponses)||[]}*fetch(){var e;this.bech32Address&&(null===(e=this.QueryClient)||void 0===e||e.fetchQuery("unbondingDelegations",()=>n(this,void 0,void 0,(function*(){const e=yield this.misesStore.unbondingDelegations(this.bech32Address);this.setResponse({data:e,status:200,staled:!0,timestamp:(new Date).getTime()})})),this.fetchConfig))}}r([a.computed],u.prototype,"total",null),r([a.computed],u.prototype,"unbondingBalances",null),r([a.computed],u.prototype,"unbondings",null),r([a.override],u.prototype,"fetch",null),t.ObservableQueryUnbondingDelegationsInner=u;class l extends i.ObservableChainQueryMap{constructor(e,t,s,r){super(e,t,s,e=>new u(this.kvStore,this.chainId,this.chainGetter,e,r)),this.kvStore=e,this.chainId=t,this.chainGetter=s,this.misesStore=r}getQueryBech32Address(e){return this.get(e)}}t.ObservableQueryUnbondingDelegations=l},1545:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryValidators=t.ObservableQueryValidatorsInner=t.ObservableQueryValidatorThumbnail=void 0;const o=s(63),a=s(934),c=s(5),u=s(132),l=i(s(50)),h=i(s(1546)),d=s(27),p=s(221);class f extends u.ObservableQuery{constructor(e,t){super(e,l.default.create({baseURL:"https://keybase.io/"}),"_/api/1.0/user/lookup.json?fields=pictures&key_suffix="+t.description.identity),c.makeObservable(this),this.validator=t}canFetch(){return""!==this.validator.description.identity}fetchResponse(e){const t=Object.create(null,{fetchResponse:{get:()=>super.fetchResponse}});return n(this,void 0,void 0,(function*(){return yield f.fetchingThumbnailQueue.add(()=>t.fetchResponse.call(this,e))}))}get thumbnail(){var e,t,s,r;return 0===(null===(e=this.response)||void 0===e?void 0:e.data.status.code)&&this.response.data.them&&this.response.data.them.length>0&&null!==(r=null===(s=null===(t=this.response.data.them[0].pictures)||void 0===t?void 0:t.primary)||void 0===s?void 0:s.url)&&void 0!==r?r:""}}f.fetchingThumbnailQueue=new h.default({concurrency:3}),r([c.computed],f.prototype,"thumbnail",null),t.ObservableQueryValidatorThumbnail=f;class y extends o.ObservableChainQuery{constructor(e,t,s,r){super(e,t,s,"/cosmos/staking/v1beta1/validators?pagination.limit=1000&status="+(()=>{switch(r){case a.BondStatus.Bonded:return"BOND_STATUS_BONDED";case a.BondStatus.Unbonded:return"BOND_STATUS_UNBONDED";case a.BondStatus.Unbonding:return"BOND_STATUS_UNBONDING";default:return"BOND_STATUS_UNSPECIFIED"}})()),this.status=r,this.thumbnailMap=new Map,this.getValidator=p.computedFn(e=>this.validators.find(t=>t.operator_address===e)),this.getValidatorThumbnail=p.computedFn(e=>{const t=this.validators.find(t=>t.operator_address===e);if(!t)return"";if(!t.description.identity)return"";const s=t.description.identity;return this.thumbnailMap.has(s)||c.runInAction(()=>{this.thumbnailMap.set(s,new f(this.kvStore,t))}),this.thumbnailMap.get(s).thumbnail}),this.getValidatorShare=p.computedFn(e=>{const t=this.validators.find(t=>t.operator_address===e);if(!t)return;const s=this.chainGetter.getChain(this.chainId).stakeCurrency,r=new d.Dec(t.tokens).truncate();return new d.CoinPretty(s,r)}),c.makeObservable(this)}get validators(){return this.response?this.response.data.validators:[]}get validatorsSortedByVotingPower(){return this.validators.sort((e,t)=>new d.Dec(e.tokens).gt(new d.Dec(t.tokens))?-1:1)}}r([c.observable.shallow],y.prototype,"thumbnailMap",void 0),r([c.computed],y.prototype,"validators",null),r([c.computed],y.prototype,"validatorsSortedByVotingPower",null),t.ObservableQueryValidatorsInner=y;class g extends o.ObservableChainQueryMap{constructor(e,t,s){super(e,t,s,e=>new y(this.kvStore,this.chainId,this.chainGetter,e)),this.kvStore=e,this.chainId=t,this.chainGetter=s}getQueryStatus(e=a.BondStatus.Bonded){return this.get(e)}}t.ObservableQueryValidators=g},1551:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryStakingPool=void 0;const n=s(63),i=s(5),o=s(27);class a extends n.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/cosmos/staking/v1beta1/pool"),i.makeObservable(this)}get notBondedTokens(){const e=this.chainGetter.getChain(this.chainId);return this.response?new o.CoinPretty(e.stakeCurrency,this.response.data.pool.not_bonded_tokens):new o.CoinPretty(e.stakeCurrency,0)}get bondedTokens(){const e=this.chainGetter.getChain(this.chainId);return this.response?new o.CoinPretty(e.stakeCurrency,this.response.data.pool.bonded_tokens):new o.CoinPretty(e.stakeCurrency,0)}}r([i.computed],a.prototype,"notBondedTokens",null),r([i.computed],a.prototype,"bondedTokens",null),t.ObservableQueryStakingPool=a},1552:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryStakingParams=void 0;const n=s(63),i=s(5);class o extends n.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/cosmos/staking/v1beta1/params"),i.makeObservable(this)}get unbondingTimeSec(){return this.response?parseInt(this.response.data.params.unbonding_time.replace("s","")):0}get maxValidators(){var e,t;return null!==(t=null===(e=this.response)||void 0===e?void 0:e.data.params.max_validators)&&void 0!==t?t:0}get maxEntries(){var e,t;return null!==(t=null===(e=this.response)||void 0===e?void 0:e.data.params.max_entries)&&void 0!==t?t:0}get historicalEntries(){var e,t;return null!==(t=null===(e=this.response)||void 0===e?void 0:e.data.params.historical_entries)&&void 0!==t?t:0}get bondDenom(){var e,t;return null!==(t=null===(e=this.response)||void 0===e?void 0:e.data.params.bond_denom)&&void 0!==t?t:""}}r([i.computed],o.prototype,"unbondingTimeSec",null),t.ObservableQueryStakingParams=o},1553:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryInflation=void 0;const n=s(5),i=s(27);class o{constructor(e,t,s,r,i,o,a,c,u,l,h,d){this.chainId=e,this.chainGetter=t,this._queryMint=s,this._queryPool=r,this._querySupplyTotal=i,this._queryIrisMint=o,this._querySifchainAPY=a,this._queryOsmosisEpochs=c,this._queryOsmosisEpochProvisions=u,this._queryOsmosisMintParams=l,this._queryJunoAnnualProvisions=h,this._queryDistributionParams=d,n.makeObservable(this)}get error(){var e,t;return null!==(t=null!==(e=this._queryMint.error)&&void 0!==e?e:this._queryPool.error)&&void 0!==t?t:this._querySupplyTotal.getQueryStakeDenom().error}get isFetching(){return this._queryMint.isFetching||this._queryPool.isFetching||this._querySupplyTotal.getQueryStakeDenom().isFetching}get inflation(){var e,t,s,r;try{let n;const o=this.chainGetter.getChain(this.chainId);if(o.chainId.startsWith("irishub"))n=new i.Dec(null!==(t=null===(e=this._queryIrisMint.response)||void 0===e?void 0:e.data.result.inflation)&&void 0!==t?t:"0").mul(i.DecUtils.getPrecisionDec(2));else{if(o.chainId.startsWith("sifchain"))return new i.IntPretty(new i.Dec(this._querySifchainAPY.liquidityAPY.toString()));if(o.chainId.startsWith("osmosis")){const e=this._queryOsmosisMintParams;if(e.epochIdentifier){const t=this._queryOsmosisEpochs.getEpoch(e.epochIdentifier).duration;if(t){const s=this._queryOsmosisEpochProvisions.epochProvisions;if(s&&this._querySupplyTotal.getQueryStakeDenom().response){const r=new i.Dec(s.toDec().mul(e.distributionProportions.staking).truncate().toString()).mul(new i.Dec((31536e3/t).toString())),o=i.DecUtils.getPrecisionDec(8);n=r.quo(o).mul(i.DecUtils.getPrecisionDec(2))}}}}else if(o.chainId.startsWith("juno")){if(this._queryJunoAnnualProvisions.annualProvisionsRaw&&this._queryPool.response){const e=new i.Dec(this._queryPool.response.data.pool.bonded_tokens),t=this._queryJunoAnnualProvisions.annualProvisionsRaw.quo(e).mul(new i.Dec(1).sub(this._queryDistributionParams.communityTax.toDec())).mul(i.DecUtils.getTenExponentN(2));return new i.IntPretty(t)}}else n=new i.Dec(null!==(r=null===(s=this._queryMint.response)||void 0===s?void 0:s.data.inflation)&&void 0!==r?r:"0").mul(i.DecUtils.getPrecisionDec(2))}if(!n||n.equals(new i.Dec(0)))return new i.IntPretty(new i.Int(0)).ready(!1);if(this._queryPool.response){const e=new i.Dec(this._queryPool.response.data.pool.bonded_tokens),t=(()=>{if(o.chainId.startsWith("osmosis"))return i.DecUtils.getPrecisionDec(14).toString();if(o.chainId.startsWith("umee")){const e=this._querySupplyTotal.getQueryDenomByQueryString(o.stakeCurrency.coinMinimalDenom).response;return e?e.data.amount.amount:"0"}const e=this._querySupplyTotal.getQueryStakeDenom().response;return e?e.data.amount.amount:"0"})(),s=new i.Dec(t);if(s.gt(new i.Dec(0))){const t=e.quo(s);n=n.mul(new i.Dec(1).sub(this._queryDistributionParams.communityTax.toDec())).quo(t)}}return new i.IntPretty(n)}catch(e){return console.log(e),new i.IntPretty(new i.Int(0)).ready(!1)}}}r([n.computed],o.prototype,"inflation",null),t.ObservableQueryInflation=o},1554:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryMintingInfation=void 0;const r=s(63);class n extends r.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/cosmos/mint/v1beta1/inflation")}canFetch(){return!1}}t.ObservableQueryMintingInfation=n},1555:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQuerySupplyTotal=t.ObservableChainQuerySupplyTotal=void 0;const r=s(63);class n extends r.ObservableChainQuery{constructor(e,t,s,r){super(e,t,s,"/cosmos/bank/v1beta1/supply/"+r)}}t.ObservableChainQuerySupplyTotal=n;class i extends r.ObservableChainQueryMap{constructor(e,t,s){super(e,t,s,e=>new n(this.kvStore,this.chainId,this.chainGetter,e)),this.kvStore=e,this.chainId=t,this.chainGetter=s}getQueryDenom(e){return this.get(e)}getQueryDenomByQueryString(e){return this.get("by_denom?denom="+e)}getQueryStakeDenom(){const e=this.chainGetter.getChain(this.chainId);return this.get(e.stakeCurrency.coinMinimalDenom)}}t.ObservableQuerySupplyTotal=i},1556:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryIBCChannel=t.ObservableChainQueryIBCChannel=void 0;const r=s(63),n=s(5);class i extends r.ObservableChainQuery{constructor(e,t,s,r,n){super(e,t,s,`/ibc/core/channel/v1beta1/channels/${n}/ports/${r}`),this.portId=r,this.channelId=n}onStart(){return super.onStart(),new Promise(e=>{this.disposer=n.autorun(()=>{const t=this.chainGetter.getChain(this.chainId);t.features&&t.features.includes("ibc-go")&&this.setUrl(`/ibc/core/channel/v1/channels/${this.channelId}/ports/${this.portId}`),e()})})}onStop(){this.disposer&&(this.disposer(),this.disposer=void 0),super.onStop()}}t.ObservableChainQueryIBCChannel=i;class o extends r.ObservableChainQueryMap{constructor(e,t,s){super(e,t,s,e=>{const t=JSON.parse(e);return new i(this.kvStore,this.chainId,this.chainGetter,t.portId,t.channelId)}),this.kvStore=e,this.chainId=t,this.chainGetter=s}getTransferChannel(e){return this.getChannel("transfer",e)}getChannel(e,t){const s=JSON.stringify({portId:e,channelId:t});return this.get(s)}}t.ObservableQueryIBCChannel=o},1557:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryIBCClientState=t.ObservableChainQueryClientState=void 0;const n=s(63),i=s(5);class o extends n.ObservableChainQuery{constructor(e,t,s,r,n){super(e,t,s,`/ibc/core/channel/v1beta1/channels/${n}/ports/${r}/client_state`),this.portId=r,this.channelId=n}onStart(){return super.onStart(),new Promise(e=>{this.disposer=i.autorun(()=>{const t=this.chainGetter.getChain(this.chainId);t.features&&t.features.includes("ibc-go")&&this.setUrl(`/ibc/core/channel/v1/channels/${this.channelId}/ports/${this.portId}/client_state`),e()})})}onStop(){this.disposer&&(this.disposer(),this.disposer=void 0),super.onStop()}get clientChainId(){var e,t;if(this.response)return null===(t=null===(e=this.response.data.identified_client_state)||void 0===e?void 0:e.client_state)||void 0===t?void 0:t.chain_id}}r([i.computed],o.prototype,"clientChainId",null),t.ObservableChainQueryClientState=o;class a extends n.ObservableChainQueryMap{constructor(e,t,s){super(e,t,s,e=>{const t=JSON.parse(e);return new o(this.kvStore,this.chainId,this.chainGetter,t.portId,t.channelId)}),this.kvStore=e,this.chainId=t,this.chainGetter=s}getClientStateOnTransferPort(e){return this.getClientState("transfer",e)}getClientState(e,t){const s=JSON.stringify({portId:e,channelId:t});return this.get(s)}}t.ObservableQueryIBCClientState=a},1558:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryDenomTrace=t.ObservableChainQueryDenomTrace=void 0;const n=s(63),i=s(5);class o extends n.ObservableChainQuery{constructor(e,t,s,r){super(e,t,s,"/ibc/applications/transfer/v1beta1/denom_traces/"+r),this.hash=r}onStart(){return super.onStart(),new Promise(e=>{this.disposer=i.autorun(()=>{const t=this.chainGetter.getChain(this.chainId);t.features&&t.features.includes("ibc-go")&&this.setUrl("/ibc/apps/transfer/v1/denom_traces/"+this.hash),e()})})}onStop(){this.disposer&&(this.disposer(),this.disposer=void 0),super.onStop()}get paths(){if(!this.response)return[];const e=this.response.data.denom_trace.path.split("/");if(e.length%2!=0)return console.log("Failed to parse paths",e),[];const t=[];for(let s=0;s<e.length;s+=2)t.push(e.slice(s,s+2));return t.map(e=>({portId:e[0],channelId:e[1]}))}get denom(){if(this.response)return this.response.data.denom_trace.base_denom}get denomTrace(){if(this.response&&this.denom)return{denom:this.denom,paths:this.paths}}}r([i.computed],o.prototype,"paths",null),r([i.computed],o.prototype,"denomTrace",null),t.ObservableChainQueryDenomTrace=o;class a extends n.ObservableChainQueryMap{constructor(e,t,s){super(e,t,s,e=>new o(this.kvStore,this.chainId,this.chainGetter,e)),this.kvStore=e,this.chainId=t,this.chainGetter=s}getDenomTrace(e){return this.get(e)}}t.ObservableQueryDenomTrace=a},1559:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryCosmosBalanceRegistry=t.ObservableQueryCosmosBalances=t.ObservableQueryBalanceNative=void 0;const i=s(25),o=s(5),a=s(27),c=s(132),u=s(562),l=s(63),h=s(264);class d extends u.ObservableQueryBalanceInner{constructor(e,t,s,r,n){super(e,t,s,"",r),this.nativeBalances=n,o.makeObservable(this)}canFetch(){return!1}get isFetching(){return this.nativeBalances.isFetching}get error(){return this.nativeBalances.error}get response(){return this.nativeBalances.response}*fetch(){yield this.nativeBalances.fetch()}get balance(){const e=this.currency;return this.nativeBalances.response?c.StoreUtils.getBalanceFromCurrency(e,this.nativeBalances.response.data.balances):new a.CoinPretty(e,new a.Int(0)).ready(!1)}}r([o.override],d.prototype,"fetch",null),r([o.computed],d.prototype,"balance",null),t.ObservableQueryBalanceNative=d;class p extends l.ObservableChainQuery{constructor(e,t,s,r,n){super(e,t,s,`/cosmos/bank/v1beta1/balances/${r}?pagination.limit=1000`),this.duplicatedFetchCheck=!0,this.QueryClient=new h.QueryClient,this.bech32Address=r,this.misesStore=n,o.makeObservable(this)}canFetch(){return this.bech32Address.length>0}*fetch(){var e;null===(e=this.QueryClient)||void 0===e||e.fetchQuery("getMisesBalance",()=>this.getMisesBalance(),this.fetchConfig).then(e=>{this.setResponse(e)})}getMisesBalance(){var e;return n(this,void 0,void 0,(function*(){return{status:200,data:{balances:[yield null===(e=this.misesStore)||void 0===e?void 0:e.getBalanceUMIS()]},staled:!0,timestamp:(new Date).getTime()}}))}setResponse(e){super.setResponse(e);const t=this.chainGetter.getChain(this.chainId),s=e.data.balances.map(e=>e.denom);t.addUnknownCurrencies(...s)}}r([o.override],p.prototype,"fetch",null),t.ObservableQueryCosmosBalances=p;t.ObservableQueryCosmosBalanceRegistry=class{constructor(e,t){this.kvStore=e,this.misesStore=t,this.nativeBalances=new Map}getBalanceInner(e,t,s,r){const n=new i.DenomHelper(r);if("native"!==n.type)return;const o=`${e}/${s}`;return this.nativeBalances.has(o)||this.nativeBalances.set(o,new p(this.kvStore,e,t,s,this.misesStore)),new d(this.kvStore,e,t,n,this.nativeBalances.get(o))}}},1560:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQuerySpendableBalances=t.ObservableChainQuerySpendableBalances=void 0;const n=s(63),i=s(27),o=s(5);class a extends n.ObservableChainQuery{constructor(e,t,s,r){super(e,t,s,"/cosmos/bank/v1beta1/spendable_balances/"+r)}get balances(){if(!this.response)return[];const e=[],t=this.chainGetter.getChain(this.chainId);for(const s of this.response.data.balances){const r=t.findCurrency(s.denom);r&&e.push(new i.CoinPretty(r,s.amount))}return e}}r([o.computed],a.prototype,"balances",null),t.ObservableChainQuerySpendableBalances=a;class c extends n.ObservableChainQueryMap{constructor(e,t,s){super(e,t,s,e=>new a(this.kvStore,this.chainId,this.chainGetter,e)),this.kvStore=e,this.chainId=t,this.chainGetter=s}getQueryBech32Address(e){return this.get(e)}}t.ObservableQuerySpendableBalances=c},1561:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1562:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1563:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1564:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1565:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CosmosQueriesImpl=t.CosmosQueries=void 0;const r=s(1347),n=s(1346),i=s(1345),o=s(1341),a=s(1348),c=s(1566),u=s(1349),l=s(1567),h=s(1568),d=s(1572),p=s(1574),f=s(1576);t.CosmosQueries={use:e=>(t,s,r,n)=>({cosmos:new y(t,s,r,n,e)})};class y{constructor(e,t,s,y,g){this.queryRPCStatus=new p.ObservableQueryRPCStatus(t,s,y),this.querySifchainAPY=new c.ObservableQuerySifchainLiquidityAPY(t,s),e.queryBalances.addBalanceRegistry(new u.ObservableQueryCosmosBalanceRegistry(t,g)),this.queryAccount=new r.ObservableQueryAccount(t,s,y),this.querySpendableBalances=new u.ObservableQuerySpendableBalances(t,s,y),this.queryMint=new n.ObservableQueryMintingInfation(t,s,y),this.queryPool=new i.ObservableQueryStakingPool(t,s,y),this.queryStakingParams=new i.ObservableQueryStakingParams(t,s,y),this.querySupplyTotal=new n.ObservableQuerySupplyTotal(t,s,y);const v=new h.ObservableQueryOsmosisMintParmas(t,s,y);this.queryDistributionParams=new d.ObservableQueryDistributionParams(t,s,y),this.queryInflation=new n.ObservableQueryInflation(s,y,this.queryMint,this.queryPool,this.querySupplyTotal,new l.ObservableQueryIrisMintingInfation(t,s,y),this.querySifchainAPY,new h.ObservableQueryOsmosisEpochs(t,s,y),new h.ObservableQueryOsmosisEpochProvisions(t,s,y,v),v,new f.ObservableQueryJunoAnnualProvisions(t,s,y),this.queryDistributionParams),this.queryRewards=new i.ObservableQueryRewards(t,s,y,g),this.queryDelegations=new i.ObservableQueryDelegations(t,s,y,g),this.queryUnbondingDelegations=new i.ObservableQueryUnbondingDelegations(t,s,y,g),this.queryValidators=new i.ObservableQueryValidators(t,s,y),this.queryGovernance=new o.ObservableQueryGovernance(t,s,y,this.queryPool),this.queryProposalVote=new o.ObservableQueryProposalVote(t,s,y),this.queryIBCClientState=new a.ObservableQueryIBCClientState(t,s,y),this.queryIBCChannel=new a.ObservableQueryIBCChannel(t,s,y),this.queryIBCDenomTrace=new a.ObservableQueryDenomTrace(t,s,y)}}t.CosmosQueriesImpl=y},1566:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQuerySifchainLiquidityAPY=void 0;const i=s(132),o=n(s(50)),a=s(5);class c extends i.ObservableQuery{constructor(e,t){super(e,o.default.create({baseURL:"https://data.sifchain.finance/"}),"beta/validator/stakingRewards"),this.chainId=t,a.makeObservable(this)}canFetch(){return this.chainId.startsWith("sifchain")}get liquidityAPY(){return this.response?100*Number(this.response.data.rate):0}}r([a.computed],c.prototype,"liquidityAPY",null),t.ObservableQuerySifchainLiquidityAPY=c},1567:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryIrisMintingInfation=void 0;const r=s(63);class n extends r.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/mint/params")}}t.ObservableQueryIrisMintingInfation=n},1568:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1569),t),n(s(1570),t),n(s(1571),t)},1569:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryOsmosisEpochs=t.ObservableQueryOsmosisEpochsInner=void 0;const n=s(63),i=s(5);class o{constructor(e,t){this.identifier=e,this.queryEpochs=t}get epoch(){var e;return null===(e=this.queryEpochs.response)||void 0===e?void 0:e.data.epochs.find(e=>e.identifier===this.identifier)}get duration(){return this.epoch?parseInt(this.epoch.duration.replace("s","")):0}get startTime(){return this.epoch?new Date(this.epoch.current_epoch_start_time):new Date(0)}get endTime(){const e=this.startTime;return this.duration?new Date(e.getTime()+1e3*this.duration):e}}r([i.computed],o.prototype,"epoch",null),r([i.computed],o.prototype,"duration",null),r([i.computed],o.prototype,"startTime",null),r([i.computed],o.prototype,"endTime",null),t.ObservableQueryOsmosisEpochsInner=o;class a extends n.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/osmosis/epochs/v1beta1/epochs"),this.map=new Map}getEpoch(e){if(!this.map.has(e)){const t=new o(e,this);this.map.set(e,t)}return this.map.get(e)}}r([i.observable.shallow],a.prototype,"map",void 0),t.ObservableQueryOsmosisEpochs=a},1570:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryOsmosisEpochProvisions=void 0;const n=s(63),i=s(5),o=s(27);class a extends n.ObservableChainQuery{constructor(e,t,s,r){super(e,t,s,"/osmosis/mint/v1beta1/epoch_provisions"),this.queryMintParmas=r,i.makeObservable(this)}get epochProvisions(){if(!this.response||!this.queryMintParmas.mintDenom)return;const e=this.chainGetter.getChain(this.chainId).currencies.find(e=>e.coinMinimalDenom===this.queryMintParmas.mintDenom);if(!e)throw new Error("Unknown currency");let t=this.response.data.epoch_provisions;return t.includes(".")&&(t=t.slice(0,t.indexOf("."))),new o.CoinPretty(e,new o.Int(t))}}r([i.computed],a.prototype,"epochProvisions",null),t.ObservableQueryOsmosisEpochProvisions=a},1571:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryOsmosisMintParmas=void 0;const n=s(63),i=s(5),o=s(27);class a extends n.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/osmosis/mint/v1beta1/params"),i.makeObservable(this)}get mintDenom(){var e;return null===(e=this.response)||void 0===e?void 0:e.data.params.mint_denom}get epochIdentifier(){var e;return null===(e=this.response)||void 0===e?void 0:e.data.params.epoch_identifier}get distributionProportions(){return this.response?{staking:new o.Dec(this.response.data.params.distribution_proportions.staking),poolIncentives:new o.Dec(this.response.data.params.distribution_proportions.pool_incentives),developerRewards:new o.Dec(this.response.data.params.distribution_proportions.developer_rewards)}:{staking:new o.Dec(0),poolIncentives:new o.Dec(0),developerRewards:new o.Dec(0)}}}r([i.computed],a.prototype,"distributionProportions",null),t.ObservableQueryOsmosisMintParmas=a},1572:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1573),t)},1573:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryDistributionParams=void 0;const n=s(63),i=s(5),o=s(27);class a extends n.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/cosmos/distribution/v1beta1/params"),i.makeObservable(this)}get communityTax(){return this.response?new o.RatePretty(this.response.data.params.community_tax):new o.RatePretty(0)}}r([i.computed],a.prototype,"communityTax",null),t.ObservableQueryDistributionParams=a},1574:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryRPCStatus=void 0;const r=s(1575),n=s(27);class i extends r.ObservableChainQueryRPC{constructor(e,t,s){super(e,t,s,"/status")}get network(){if(this.response)return this.response.data.result.node_info.network}get latestBlockHeight(){if(this.response)return new n.Int(this.response.data.result.sync_info.latest_block_height)}}t.ObservableQueryRPCStatus=i},1575:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableChainQueryRPCMap=t.ObservableChainQueryRPC=void 0;const i=s(132),o=n(s(50)),a=s(5),c=s(132);class u extends i.ObservableQuery{constructor(e,t,s,r){const n=s.getChain(t);super(e,o.default.create(Object.assign({baseURL:n.rpc},n.rpcConfig)),r),this._chainId=t,this.chainGetter=s}get instance(){const e=this.chainGetter.getChain(this.chainId);return o.default.create(Object.assign({baseURL:e.rpc},e.rpcConfig))}get chainId(){return this._chainId}}r([a.override],u.prototype,"instance",null),t.ObservableChainQueryRPC=u;class l extends c.HasMapStore{constructor(e,t,s,r){super(r),this.kvStore=e,this.chainId=t,this.chainGetter=s}}t.ObservableChainQueryRPCMap=l},1576:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1577),t)},1577:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryJunoAnnualProvisions=void 0;const n=s(63),i=s(5),o=s(27);class a extends n.ObservableChainQuery{constructor(e,t,s){super(e,t,s,"/cosmos/mint/v1beta1/annual_provisions"),i.makeObservable(this)}get annualProvisions(){if(!this.response)return;const e=this.chainGetter.getChain(this.chainId);return new o.CoinPretty(e.stakeCurrency,new o.Dec(this.response.data.annual_provisions))}get annualProvisionsRaw(){if(this.response)return new o.Dec(this.response.data.annual_provisions)}}r([i.computed],a.prototype,"annualProvisions",null),r([i.computed],a.prototype,"annualProvisionsRaw",null),t.ObservableQueryJunoAnnualProvisions=a},1578:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&r(t,e,s);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CosmWasm=void 0,i(s(1350),t),t.CosmWasm=o(s(1579)),i(s(1580),t)},1579:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1580:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CosmwasmQueriesImpl=t.CosmwasmQueries=void 0;const r=s(1581),n=s(1350);t.CosmwasmQueries={use:()=>(e,t,s,r)=>({cosmwasm:new i(e,t,s,r)})};class i{constructor(e,t,s,i){e.queryBalances.addBalanceRegistry(new n.ObservableQueryCw20BalanceRegistry(t)),this.querycw20ContractInfo=new r.ObservableQueryCw20ContractInfo(t,s,i)}}t.CosmwasmQueriesImpl=i},1581:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryCw20ContractInfo=t.ObservableQueryCw20ContactInfoInner=void 0;const n=s(63),i=s(5),o=s(1351);class a extends o.ObservableCosmwasmContractChainQuery{constructor(e,t,s,r){super(e,t,s,r,{token_info:{}}),this.contractAddress=r}get tokenInfo(){if(this.response&&this.response.data)return this.response.data}}r([i.computed],a.prototype,"tokenInfo",null),t.ObservableQueryCw20ContactInfoInner=a;class c extends n.ObservableChainQueryMap{constructor(e,t,s){super(e,t,s,e=>new a(this.kvStore,this.chainId,this.chainGetter,e)),this.kvStore=e,this.chainId=t,this.chainGetter=s}getQueryContract(e){return this.get(e)}}t.ObservableQueryCw20ContractInfo=c},1582:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&r(t,e,s);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.SecretWasm=void 0,i(s(1352),t),i(s(1353),t),i(s(1355),t),t.SecretWasm=o(s(1583)),i(s(1584),t)},1583:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1584:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SecretQueriesImpl=t.SecretQueries=void 0;const r=s(1352),n=s(1585),i=s(1353);t.SecretQueries={use:e=>(t,s,r,n)=>({secret:new o(t,s,r,n,e.apiGetter)})};class o{constructor(e,t,s,o,a){this.querySecretContractCodeHash=new r.ObservableQuerySecretContractCodeHash(t,s,o),e.queryBalances.addBalanceRegistry(new i.ObservableQuerySecret20BalanceRegistry(t,a,this.querySecretContractCodeHash)),this.querySecret20ContractInfo=new n.ObservableQuerySecret20ContractInfo(t,s,o,a,this.querySecretContractCodeHash)}}t.SecretQueriesImpl=o},1585:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQuerySecret20ContractInfo=t.ObservableQuerySecret20ContactInfoInner=void 0;const n=s(63),i=s(5),o=s(1354);class a extends o.ObservableSecretContractChainQuery{constructor(e,t,s,r,n,o){super(e,t,s,r,n,{token_info:{}},o),this.apiGetter=r,this.contractAddress=n,this.querySecretContractCodeHash=o,i.makeObservable(this)}get error(){return super.error||this.querySecretContractCodeHash.getQueryContract(this.contractAddress).error}get tokenInfo(){if(this.response)return this.response.data.token_info}}r([i.computed],a.prototype,"tokenInfo",null),t.ObservableQuerySecret20ContactInfoInner=a;class c extends n.ObservableChainQueryMap{constructor(e,t,s,r,n){super(e,t,s,e=>new a(this.kvStore,this.chainId,this.chainGetter,this.apiGetter,e,n)),this.kvStore=e,this.chainId=t,this.chainGetter=s,this.apiGetter=r,this.querySecretContractCodeHash=n}getQueryContract(e){return this.get(e)}}t.ObservableQuerySecret20ContractInfo=c},1586:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&r(t,e,s);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TxFeesBaseDenom=t.TxFeesSpotPriceByDenom=t.TxFeesFeeTokens=void 0,i(s(1356),t),i(s(1357),t),i(s(1358),t),t.TxFeesFeeTokens=o(s(1587)),t.TxFeesSpotPriceByDenom=o(s(1588)),t.TxFeesBaseDenom=o(s(1589)),i(s(1590),t)},1587:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1588:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1589:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1590:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OsmosisQueriesImpl=t.OsmosisQueries=void 0;const r=s(1356),n=s(1357),i=s(1358);t.OsmosisQueries={use:()=>(e,t,s,r)=>({osmosis:new o(e,t,s,r)})};class o{constructor(e,t,s,o){this.queryTxFeesFeeTokens=new r.ObservableQueryTxFeesFeeTokens(t,s,o),this.queryTxFeesSpotPriceByDenom=new n.ObservableQueryTxFeesSpotPriceByDenom(t,s,o),this.queryTxFeesBaseDenom=new i.ObservableQueryTxFeesBaseDenom(t,s,o)}}t.OsmosisQueriesImpl=o},1591:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ChainStore=t.ChainInfoInner=void 0;const n=s(5),i=s(16),o=s(221);class a{constructor(e){this.unknownDenoms=[],this.registeredCurrencies=[],this.currencyRegistrars=[],this._chainInfo=e,n.makeObservable(this),o.keepAlive(this,"currencyMap")}getCurrencyFromRegistrars(e){for(let t=0;t<this.currencyRegistrars.length;t++){const s=(0,this.currencyRegistrars[t])(e);if(s)return"coinMinimalDenom"in s?[s,!0]:s}}addUnknownCurrencies(...e){for(const t of e){if(this.unknownDenoms.find(e=>e===t))continue;if(this.currencyMap.has(t))continue;this.unknownDenoms.push(t);const e=n.autorun(()=>{const s=this.getCurrencyFromRegistrars(t);if(s){const[r,i]=s;n.runInAction(()=>{if(r){const e=this.unknownDenoms.findIndex(e=>e===t);e>=0&&this.unknownDenoms.splice(e,1),this.addOrReplaceCurrency(r)}i&&e()})}else e()})}}registerCurrencyRegistrar(e){this.currencyRegistrars.push(e)}setChainInfo(e){this._chainInfo=e}get raw(){return this._chainInfo}get chainId(){return this._chainInfo.chainId}get currencies(){return this._chainInfo.currencies.concat(this.registeredCurrencies)}get currencyMap(){const e=new Map;for(const t of this.currencies)e.set(t.coinMinimalDenom,t);return e}addCurrencies(...e){const t=this.currencyMap;for(const s of e)t.has(s.coinMinimalDenom)||this.registeredCurrencies.push(s)}removeCurrencies(...e){const t=new Map;for(const s of e)t.set(s,!0);this.registeredCurrencies=this.registeredCurrencies.filter(e=>!t.get(e.coinMinimalDenom))}findCurrency(e){return this.currencyMap.has(e)?this.currencyMap.get(e):(this.addUnknownCurrencies(e),this.currencyMap.has(e)?this.currencyMap.get(e):void 0)}forceFindCurrency(e){const t=this.findCurrency(e);return t||{coinMinimalDenom:e,coinDenom:e,coinDecimals:0}}addOrReplaceCurrency(e){if(this.currencyMap.has(e.coinMinimalDenom)){const t=this.registeredCurrencies.findIndex(t=>t.coinMinimalDenom===e.coinMinimalDenom);t>=0&&this.registeredCurrencies.splice(t,1,e)}else this.registeredCurrencies.push(e)}get stakeCurrency(){return this.raw.stakeCurrency}get alternativeBIP44s(){return this.raw.alternativeBIP44s}get bech32Config(){return this.raw.bech32Config}get beta(){return this.raw.beta}get bip44(){return this.raw.bip44}get chainName(){return this.raw.chainName}get coinType(){return this.raw.coinType}get features(){return this.raw.features}get feeCurrencies(){return this.raw.feeCurrencies}get rest(){return this.raw.rest}get restConfig(){return this.raw.restConfig}get rpc(){return this.raw.rpc}get rpcConfig(){return this.raw.rpcConfig}get walletUrl(){return this.raw.walletUrl}get walletUrlForStaking(){return this.raw.walletUrlForStaking}}r([n.observable.ref],a.prototype,"_chainInfo",void 0),r([n.observable.shallow],a.prototype,"unknownDenoms",void 0),r([n.observable.shallow],a.prototype,"registeredCurrencies",void 0),r([n.observable],a.prototype,"currencyRegistrars",void 0),r([n.action],a.prototype,"addUnknownCurrencies",null),r([n.action],a.prototype,"registerCurrencyRegistrar",null),r([n.action],a.prototype,"setChainInfo",null),r([n.computed],a.prototype,"currencyMap",null),r([n.action],a.prototype,"addCurrencies",null),r([n.action],a.prototype,"removeCurrencies",null),r([n.action],a.prototype,"addOrReplaceCurrency",null),t.ChainInfoInner=a;class c{constructor(e){this.setChainInfoHandlers=[],this._cachedChainInfosMap=new Map,this.setChainInfos(e),n.makeObservable(this)}get chainInfos(){return this._chainInfos}getChain(e){const t=i.ChainIdHelper.parse(e),s=this.chainInfos.find(e=>i.ChainIdHelper.parse(e.chainId).identifier===t.identifier);if(!s)throw new Error("Unknown chain info: "+e);return s}hasChain(e){const t=i.ChainIdHelper.parse(e);return null!=this.chainInfos.find(e=>i.ChainIdHelper.parse(e.chainId).identifier===t.identifier)}addSetChainInfoHandler(e){this.setChainInfoHandlers.push(e);for(const t of this.chainInfos){e(this._cachedChainInfosMap.get(t.chainId))}}setChainInfos(e){const t=[];for(const s of e)if(this._cachedChainInfosMap.has(s.chainId)){const e=this._cachedChainInfosMap.get(s.chainId);e.setChainInfo(s),t.push(e)}else{const e=new a(s);this._cachedChainInfosMap.set(s.chainId,e),t.push(e);for(const t of this.setChainInfoHandlers)t(e)}this._chainInfos=t}}r([n.observable.ref],c.prototype,"_chainInfos",void 0),r([n.action],c.prototype,"setChainInfos",null),t.ChainStore=c},1592:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1593),t),n(s(1600),t),n(s(1601),t),n(s(1602),t),n(s(1603),t)},1593:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1594),t),n(s(1596),t),n(s(1597),t),n(s(1598),t),n(s(1599),t)},1594:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionStore=void 0;const n=s(3),i=s(46),o=s(5);class a{constructor(e,t){this.router=e,this.msgRequester=t,this.datas=new Map,this.events=new Map,o.makeObservable(this);const s=new i.InteractionForegroundService(this);i.interactionForegroundInit(e,s)}getDatas(e){var t;return null!==(t=o.toJS(this.datas.get(e)))&&void 0!==t?t:[]}getEvents(e){var t;return null!==(t=o.toJS(this.events.get(e)))&&void 0!==t?t:[]}onInteractionDataReceived(e){this.datas.has(e.type)||this.datas.set(e.type,o.observable.array([],{deep:!1})),this.datas.get(e.type).push(e)}onEventDataReceived(e){this.events.has(e.type)||this.events.set(e.type,o.observable.array([],{deep:!1})),this.events.get(e.type).push(e)}*approve(e,t,s){this.removeData(e,t),yield this.msgRequester.sendMessage(n.BACKGROUND_PORT,new i.ApproveInteractionMsg(t,s))}*approveWithoutRemovingData(e,t){yield this.msgRequester.sendMessage(n.BACKGROUND_PORT,new i.ApproveInteractionMsg(e,t))}*reject(e,t){this.removeData(e,t),yield this.msgRequester.sendMessage(n.BACKGROUND_PORT,new i.RejectInteractionMsg(t))}*rejectAll(e){const t=this.getDatas(e);for(const e of t)yield this.reject(e.type,e.id)}removeData(e,t){if(this.datas.has(e)){const s=this.datas.get(e).find(e=>e.id===t);s&&this.datas.get(e).remove(s)}}clearEvent(e){this.events.has(e)&&this.events.get(e).length>0&&this.events.set(e,o.observable.array([],{deep:!1}))}}r([o.observable.shallow],a.prototype,"datas",void 0),r([o.observable.shallow],a.prototype,"events",void 0),r([o.action],a.prototype,"onInteractionDataReceived",null),r([o.action],a.prototype,"onEventDataReceived",null),r([o.flow],a.prototype,"approve",null),r([o.flow],a.prototype,"approveWithoutRemovingData",null),r([o.flow],a.prototype,"reject",null),r([o.flow],a.prototype,"rejectAll",null),r([o.action],a.prototype,"removeData",null),r([o.action],a.prototype,"clearEvent",null),t.InteractionStore=a},1596:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PermissionStore=t.BasicAccessPermissionInnerStore=t.Secret20ViewingKeyPermissionInnerStore=void 0;const i=s(46),o=s(5),a=s(132),c=s(3),u=s(25);class l{constructor(e,t,s){this.chainId=e,this.contractAddress=t,this.requester=s,this._origins=[],o.makeObservable(this),this.refreshOrigins()}get origins(){return this._origins}*removeOrigin(e){yield this.requester.sendMessage(c.BACKGROUND_PORT,new i.RemovePermissionOrigin(this.chainId,i.getSecret20ViewingKeyPermissionType(this.contractAddress),e)),yield this.refreshOrigins()}*refreshOrigins(){this._origins=yield*u.toGenerator(this.requester.sendMessage(c.BACKGROUND_PORT,new i.GetPermissionOriginsMsg(this.chainId,i.getSecret20ViewingKeyPermissionType(this.contractAddress))))}}r([o.observable.ref],l.prototype,"_origins",void 0),r([o.flow],l.prototype,"removeOrigin",null),r([o.flow],l.prototype,"refreshOrigins",null),t.Secret20ViewingKeyPermissionInnerStore=l;class h{constructor(e,t){this.chainId=e,this.requester=t,this._origins=[],o.makeObservable(this),this.refreshOrigins()}get origins(){return this._origins}*addOrigin(e){yield this.requester.sendMessage(c.BACKGROUND_PORT,new i.AddPermissionOrigin(this.chainId,i.getBasicAccessPermissionType(),e)),yield this.refreshOrigins()}*removeOrigin(e){yield this.requester.sendMessage(c.BACKGROUND_PORT,new i.RemovePermissionOrigin(this.chainId,i.getBasicAccessPermissionType(),e)),yield this.refreshOrigins()}*refreshOrigins(){this._origins=yield*u.toGenerator(this.requester.sendMessage(c.BACKGROUND_PORT,new i.GetPermissionOriginsMsg(this.chainId,i.getBasicAccessPermissionType())))}}r([o.observable.ref],h.prototype,"_origins",void 0),r([o.flow],h.prototype,"addOrigin",null),r([o.flow],h.prototype,"removeOrigin",null),r([o.flow],h.prototype,"refreshOrigins",null),t.BasicAccessPermissionInnerStore=h;class d extends a.HasMapStore{constructor(e,t){super(e=>{const t=JSON.parse(e);return"basicAccess"===t.type?new h(t.chainId,this.requester):new l(t.chainId,t.contractAddress,this.requester)}),this.interactionStore=e,this.requester=t,this._isLoading=!1,o.makeObservable(this)}getBasicAccessInfo(e){const t=JSON.stringify({type:"basicAccess",chainId:e,contractAddress:""});return this.get(t)}getOriginPermittedChains(e,t){return n(this,void 0,void 0,(function*(){return yield this.requester.sendMessage(c.BACKGROUND_PORT,new i.GetOriginPermittedChainsMsg(e,t))}))}getSecret20ViewingKeyAccessInfo(e,t){const s=JSON.stringify({type:"viewingKey",chainId:e,contractAddress:t});return this.get(s)}get waitingBasicAccessPermissions(){const e=this.waitingDatas,t=[];for(const s of e)i.isBasicAccessPermissionType(s.data.type)&&t.push({id:s.id,data:{chainIds:s.data.chainIds,origins:s.data.origins}});return t}get waitingSecret20ViewingKeyAccessPermissions(){const e=this.waitingDatas,t=[];for(const s of e)i.isSecret20ViewingKeyPermissionType(s.data.type)&&t.push({id:s.id,data:{chainIds:s.data.chainIds,contractAddress:i.splitSecret20ViewingKeyPermissionType(s.data.type),origins:s.data.origins}});return t}get waitingDatas(){return this.interactionStore.getDatas(i.INTERACTION_TYPE_PERMISSION)}*approve(e){this._isLoading=!0;try{yield this.interactionStore.approve(i.INTERACTION_TYPE_PERMISSION,e,{})}finally{this._isLoading=!1}}*reject(e){this._isLoading=!0;try{yield this.interactionStore.reject(i.INTERACTION_TYPE_PERMISSION,e)}finally{this._isLoading=!1}}*rejectAll(){this._isLoading=!0;try{yield this.interactionStore.rejectAll(i.INTERACTION_TYPE_PERMISSION)}finally{this._isLoading=!1}}get isLoading(){return this._isLoading}}r([o.observable],d.prototype,"_isLoading",void 0),r([o.computed],d.prototype,"waitingBasicAccessPermissions",null),r([o.computed],d.prototype,"waitingSecret20ViewingKeyAccessPermissions",null),r([o.flow],d.prototype,"approve",null),r([o.flow],d.prototype,"reject",null),r([o.flow],d.prototype,"rejectAll",null),t.PermissionStore=d},1597:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.SignInteractionStore=void 0;const n=s(5),i=s(16);class o{constructor(e){this.interactionStore=e,this._isLoading=!1,n.makeObservable(this),n.autorun(()=>{const e=this.waitingDatas.slice();if(e.length>1)for(let t=1;t<e.length;t++)this.rejectWithId(e[t].id)})}get waitingDatas(){return this.interactionStore.getDatas("request-sign")}get waitingData(){const e=this.waitingDatas;if(0===e.length)return;const t=e[0],s="amino"===t.data.mode?i.SignDocWrapper.fromAminoSignDoc(t.data.signDoc):i.SignDocWrapper.fromDirectSignDocBytes(t.data.signDocBytes);return{id:t.id,type:t.type,isInternal:t.isInternal,data:{chainId:t.data.chainId,msgOrigin:t.data.msgOrigin,signer:t.data.signer,signDocWrapper:s,signOptions:t.data.signOptions,isADR36WithString:"isADR36WithString"in t.data?t.data.isADR36WithString:void 0,ethSignType:"ethSignType"in t.data?t.data.ethSignType:void 0}}}isEnded(){return this.interactionStore.getEvents("request-sign-end").length>0}clearEnded(){this.interactionStore.clearEvent("request-sign-end")}waitEnd(){return this.isEnded()?(console.log("isEnded"),Promise.resolve()):new Promise(e=>{const t=n.autorun(()=>{this.isEnded()?(console.log("disposer-isEnded"),e(),this.clearEnded(),t()):console.log(this.interactionStore.getEvents("request-sign-end"))})})}*approveAndWaitEnd(e){if(0===this.waitingDatas.length)return;console.log(this.waitingDatas),this._isLoading=!0;const t=this.waitingDatas[0].id;try{const s="amino"===e.mode?e.aminoSignDoc:e.protoSignDoc.toBytes();yield this.interactionStore.approveWithoutRemovingData(t,s),console.log("newSignDoc")}finally{yield this.waitEnd(),this.interactionStore.removeData("request-sign",t),this._isLoading=!1,console.log("waitEnd")}}*reject(){if(0!==this.waitingDatas.length){this._isLoading=!0;try{yield this.interactionStore.reject("request-sign",this.waitingDatas[0].id)}finally{this._isLoading=!1}}}*rejectAll(){this._isLoading=!0;try{yield this.interactionStore.rejectAll("request-sign")}finally{this._isLoading=!1}}*rejectWithId(e){yield this.interactionStore.reject("request-sign",e)}get isLoading(){return this._isLoading}}r([n.observable],o.prototype,"_isLoading",void 0),r([n.computed],o.prototype,"waitingData",null),r([n.flow],o.prototype,"approveAndWaitEnd",null),r([n.flow],o.prototype,"reject",null),r([n.flow],o.prototype,"rejectAll",null),r([n.flow],o.prototype,"rejectWithId",null),t.SignInteractionStore=o},1598:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.LedgerInitStore=void 0;const n=s(5),i=s(3),o=s(46),a=s(25);class c{constructor(e,t){this.interactionStore=e,this.msgRequester=t,this._isLoading=!1,this._isWebHID=!1,n.makeObservable(this),this.fetchIsWebHID()}*fetchIsWebHID(){this._isWebHID=yield*a.toGenerator(this.msgRequester.sendMessage(i.BACKGROUND_PORT,new o.LedgerGetWebHIDFlagMsg))}*setWebHID(e){yield this.msgRequester.sendMessage(i.BACKGROUND_PORT,new o.LedgerSetWebHIDFlagMsg(e)),yield this.fetchIsWebHID()}get isWebHID(){return this._isWebHID}get isGetPubKeySucceeded(){const e=this.interactionStore.getEvents("ledger-init");for(const t of e)if("get-pubkey"===t.data.event&&t.data.success)return!0;return!1}get isSignCompleted(){return this.isSignSucceeded||this.isSignRejected}get isSignSucceeded(){const e=this.interactionStore.getEvents("ledger-init");for(const t of e)if("sign"===t.data.event&&t.data.success)return!0;return!1}get isSignRejected(){const e=this.interactionStore.getEvents("ledger-init");for(const t of e)if("sign"===t.data.event&&!t.data.success)return!0;return!1}get isInitAborted(){const e=this.interactionStore.getEvents("ledger-init");for(const t of e)if("init-aborted"===t.data.event)return!0;return!1}get isInitNeeded(){const e=this.interactionStore.getDatas("ledger-init");for(const t of e)if("init-failed"===t.data.event)return!0;return!1}get requestedLedgerApp(){if(!this.isInitNeeded)return;const e=this.interactionStore.getDatas("ledger-init");for(const t of e)if("init-failed"===t.data.event)return t.data.ledgerApp}*resume(...e){this._isLoading=!0;try{const t=this.interactionStore.getDatas("ledger-init");for(const s of t)if("init-failed"===s.data.event){yield this.interactionStore.approve("ledger-init",s.id,{initArgs:e});break}}finally{this._isLoading=!1}}*resumeAll(...e){this._isLoading=!0;try{const t=this.interactionStore.getDatas("ledger-init");for(const s of t)"init-failed"===s.data.event&&(yield this.interactionStore.approve("ledger-init",s.id,{initArgs:e}))}finally{this._isLoading=!1}}*abort(){this._isLoading=!0;try{const e=this.interactionStore.getDatas("ledger-init");for(const t of e)if("init-failed"===t.data.event){yield this.interactionStore.approve("ledger-init",t.id,{abort:!0});break}}finally{this._isLoading=!1}}*abortAll(){this._isLoading=!0;try{const e=this.interactionStore.getDatas("ledger-init");for(const t of e)"init-failed"===t.data.event&&(yield this.interactionStore.approve("ledger-init",t.id,{abort:!0}))}finally{this._isLoading=!1}}get isLoading(){return this._isLoading}}r([n.observable],c.prototype,"_isLoading",void 0),r([n.observable],c.prototype,"_isWebHID",void 0),r([n.flow],c.prototype,"fetchIsWebHID",null),r([n.flow],c.prototype,"setWebHID",null),r([n.computed],c.prototype,"isGetPubKeySucceeded",null),r([n.computed],c.prototype,"isSignCompleted",null),r([n.computed],c.prototype,"isSignSucceeded",null),r([n.computed],c.prototype,"isSignRejected",null),r([n.computed],c.prototype,"isInitAborted",null),r([n.computed],c.prototype,"isInitNeeded",null),r([n.computed],c.prototype,"requestedLedgerApp",null),r([n.flow],c.prototype,"resume",null),r([n.flow],c.prototype,"resumeAll",null),r([n.flow],c.prototype,"abort",null),r([n.flow],c.prototype,"abortAll",null),t.LedgerInitStore=c},1599:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ChainSuggestStore=void 0;const n=s(46),i=s(5);class o{constructor(e){this.interactionStore=e,this._isLoading=!1,i.makeObservable(this)}get waitingSuggestedChainInfo(){const e=this.interactionStore.getDatas(n.SuggestChainInfoMsg.type());if(e.length>0)return e[0]}*approve(){this._isLoading=!0;try{const e=this.waitingSuggestedChainInfo;e&&(yield this.interactionStore.approve(e.type,e.id,{}))}finally{this._isLoading=!1}}*reject(){this._isLoading=!0;try{const e=this.waitingSuggestedChainInfo;e&&(yield this.interactionStore.reject(e.type,e.id))}finally{this._isLoading=!1}}*rejectAll(){this._isLoading=!0;try{yield this.interactionStore.rejectAll(n.SuggestChainInfoMsg.type())}finally{this._isLoading=!1}}get isLoading(){return this._isLoading}}r([i.observable],o.prototype,"_isLoading",void 0),r([i.flow],o.prototype,"approve",null),r([i.flow],o.prototype,"reject",null),r([i.flow],o.prototype,"rejectAll",null),t.ChainSuggestStore=o},1600:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.KeyRingStore=t.KeyRingSelectablesStore=void 0;const i=s(3),o=s(46),a=s(5),c=s(25);class u{constructor(e,t,s,r){this.chainGetter=e,this.requester=t,this.chainId=s,this.keyRingStore=r,this.isInitializing=!1,this._isKeyStoreCoinTypeSet=!1,this._selectables=[],a.makeObservable(this),this.refresh()}get needSelectCoinType(){const e=this.chainGetter.getChain(this.chainId);return!(!e.alternativeBIP44s||0===e.alternativeBIP44s.length)&&(!this.isInitializing&&!this._isKeyStoreCoinTypeSet)}get selectables(){return this._selectables}*refresh(){var e;if("mnemonic"!==this.keyRingStore.keyRingType)return this.isInitializing=!1,this._isKeyStoreCoinTypeSet=!0,void(this._selectables=[]);this.isInitializing=!0;const t=this.chainGetter.getChain(this.chainId),s=new o.GetIsKeyStoreCoinTypeSetMsg(this.chainId,[t.bip44,...null!==(e=t.alternativeBIP44s)&&void 0!==e?e:[]]),r=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,s));0===r.length?this._isKeyStoreCoinTypeSet=!0:1===r.length?(yield this.keyRingStore.setKeyStoreCoinType(this.chainId,r[0].path.coinType),this._isKeyStoreCoinTypeSet=!0):(this._selectables=r,this._isKeyStoreCoinTypeSet=!1),this.isInitializing=!1}}r([a.observable],u.prototype,"isInitializing",void 0),r([a.observable],u.prototype,"_isKeyStoreCoinTypeSet",void 0),r([a.observable.ref],u.prototype,"_selectables",void 0),r([a.computed],u.prototype,"needSelectCoinType",null),r([a.flow],u.prototype,"refresh",null),t.KeyRingSelectablesStore=u;class l{constructor(e,t,s,r,n){this.eventDispatcher=e,this.defaultKdf=t,this.chainGetter=s,this.requester=r,this.interactionStore=n,this.status=o.KeyRingStatus.NOTLOADED,this.multiKeyStoreInfo=[],this.selectablesMap=new Map,this.keyStoreChangedListeners=[],a.makeObservable(this),this.restore()}get keyRingType(){const e=this.multiKeyStoreInfo.find(e=>e.selected);return e?o.KeyRing.getTypeOfKeyStore(e):"none"}*createMnemonicKey(e,t,s,r,n=this.defaultKdf){const a=new o.CreateMnemonicKeyMsg(n,e,t,s,r),u=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,a));this.status=u.status,this.multiKeyStoreInfo=u.multiKeyStoreInfo}*createPrivateKey(e,t,s,r=this.defaultKdf){const n=new o.CreatePrivateKeyMsg(r,e,t,s),a=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,n));this.status=a.status,this.multiKeyStoreInfo=a.multiKeyStoreInfo}*createLedgerKey(e,t,s,r=this.defaultKdf){const n=new o.CreateLedgerKeyMsg(r,e,t,s),a=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,n));this.status=a.status,this.multiKeyStoreInfo=a.multiKeyStoreInfo}*addMnemonicKey(e,t,s,r=this.defaultKdf){const n=new o.AddMnemonicKeyMsg(r,e,t,s);this.multiKeyStoreInfo=(yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,n))).multiKeyStoreInfo}*addPrivateKey(e,t,s=this.defaultKdf){const r=new o.AddPrivateKeyMsg(s,e,t);this.multiKeyStoreInfo=(yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,r))).multiKeyStoreInfo}*addLedgerKey(e,t,s=this.defaultKdf){const r=new o.AddLedgerKeyMsg(s,e,t);this.multiKeyStoreInfo=(yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,r))).multiKeyStoreInfo}*changeKeyRing(e){const t=new o.ChangeKeyRingMsg(e);this.multiKeyStoreInfo=(yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,t))).multiKeyStoreInfo,this.dispatchKeyStoreChangeEvent(),this.selectablesMap.forEach(e=>e.refresh())}*lock(){const e=new o.LockKeyRingMsg,t=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,e));this.status=t.status}*unlock(e){const t=new o.UnlockKeyRingMsg(e),s=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,t));this.status=s.status;for(const e of this.interactionStore.getDatas("unlock"))yield this.interactionStore.approve("unlock",e.id,{});this.dispatchKeyStoreChangeEvent(),this.selectablesMap.forEach(e=>e.refresh())}*rejectAll(){yield this.interactionStore.rejectAll("unlock")}*restore(){const e=new o.RestoreKeyRingMsg,t=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,e));this.status=t.status,this.multiKeyStoreInfo=t.multiKeyStoreInfo}showKeyRing(e,t){return n(this,void 0,void 0,(function*(){const s=new o.ShowKeyRingMsg(e,t);return yield this.requester.sendMessage(i.BACKGROUND_PORT,s)}))}*deleteKeyRing(e,t){const s=this.multiKeyStoreInfo.findIndex(e=>e.selected),r=new o.DeleteKeyRingMsg(e,t),n=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,r));this.status=n.status,this.multiKeyStoreInfo=n.multiKeyStoreInfo,s===e&&(this.dispatchKeyStoreChangeEvent(),this.selectablesMap.forEach(e=>e.refresh()))}*updateNameKeyRing(e,t){const s=new o.UpdateNameKeyRingMsg(e,t),r=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,s));this.multiKeyStoreInfo=r.multiKeyStoreInfo;this.multiKeyStoreInfo.findIndex(e=>e.selected)===e&&this.dispatchKeyStoreChangeEvent()}checkPassword(e){return n(this,void 0,void 0,(function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new o.CheckPasswordMsg(e))}))}getKeyStoreSelectables(e){return this.selectablesMap.has(e)||a.runInAction(()=>{this.selectablesMap.set(e,new u(this.chainGetter,this.requester,e,this))}),this.selectablesMap.get(e)}*setKeyStoreCoinType(e,t){const s=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,new o.SetKeyStoreCoinTypeMsg(e,t)));this.multiKeyStoreInfo=(yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,new o.GetMultiKeyStoreInfoMsg))).multiKeyStoreInfo,this.status=s,this.dispatchKeyStoreChangeEvent(),this.selectablesMap.forEach(e=>e.refresh())}exportKeyRingDatas(e){return n(this,void 0,void 0,(function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new o.ExportKeyRingDatasMsg(e))}))}dispatchKeyStoreChangeEvent(){this.eventDispatcher.dispatchEvent("mises_keystorechange");for(const e of this.keyStoreChangedListeners)e()}addKeyStoreChangedListener(e){this.keyStoreChangedListeners.push(e)}removeKeyStoreChangedListener(e){const t=this.keyStoreChangedListeners.indexOf(e);t>=0&&this.keyStoreChangedListeners.splice(t,1)}addAccount(e,t){return n(this,void 0,void 0,(function*(){const s=yield this.requester.sendMessage(i.BACKGROUND_PORT,new o.AddAccountMsg(e,t));this.multiKeyStoreInfo=s.multiKeyStoreInfo}))}migratorKeyRing(e){return n(this,void 0,void 0,(function*(){const t=yield this.requester.sendMessage(i.BACKGROUND_PORT,new o.MigratorKeyRingMsg(e));this.multiKeyStoreInfo=t.multiKeyStoreInfo}))}restoreKeyStore(){return n(this,void 0,void 0,(function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new o.RestoreKeyStoreMsg)}))}}r([a.observable],l.prototype,"status",void 0),r([a.observable],l.prototype,"multiKeyStoreInfo",void 0),r([a.observable.shallow],l.prototype,"selectablesMap",void 0),r([a.computed],l.prototype,"keyRingType",null),r([a.flow],l.prototype,"createMnemonicKey",null),r([a.flow],l.prototype,"createPrivateKey",null),r([a.flow],l.prototype,"createLedgerKey",null),r([a.flow],l.prototype,"addMnemonicKey",null),r([a.flow],l.prototype,"addPrivateKey",null),r([a.flow],l.prototype,"addLedgerKey",null),r([a.flow],l.prototype,"changeKeyRing",null),r([a.flow],l.prototype,"lock",null),r([a.flow],l.prototype,"unlock",null),r([a.flow],l.prototype,"rejectAll",null),r([a.flow],l.prototype,"restore",null),r([a.flow],l.prototype,"deleteKeyRing",null),r([a.flow],l.prototype,"updateNameKeyRing",null),r([a.flow],l.prototype,"setKeyStoreCoinType",null),t.KeyRingStore=l},1601:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.TokensStore=t.TokensStoreInner=void 0;const n=s(132),i=s(3),o=s(46),a=s(5),c=s(25),u=s(16);class l{constructor(e,t,s,r){this.eventListener=e,this.chainStore=t,this.chainId=s,this.requester=r,this._tokens=[],a.makeObservable(this),this.refreshTokens(),this.eventListener.addEventListener("keplr_keystoreunlock",()=>{this.refreshTokens()}),this.eventListener.addEventListener("mises_keystorechange",()=>{this.refreshTokens()})}get tokens(){return this._tokens}*refreshTokens(){const e=this.chainStore.getChain(this.chainId);if(e.features&&(e.features.includes("secretwasm")||e.features.includes("cosmwasm"))){const e=new o.GetTokensMsg(this.chainId);this._tokens=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,e))}else this._tokens=[]}*addToken(e){const t=new o.AddTokenMsg(this.chainId,e);yield this.requester.sendMessage(i.BACKGROUND_PORT,t),yield this.refreshTokens()}*removeToken(e){const t=new o.RemoveTokenMsg(this.chainId,e);yield this.requester.sendMessage(i.BACKGROUND_PORT,t),yield this.refreshTokens()}}r([a.observable.ref],l.prototype,"_tokens",void 0),r([a.flow],l.prototype,"refreshTokens",null),r([a.flow],l.prototype,"addToken",null),r([a.flow],l.prototype,"removeToken",null),t.TokensStoreInner=l;class h extends n.HasMapStore{constructor(e,t,s,r){super(e=>new l(this.eventListener,this.chainStore,e,this.requester)),this.eventListener=e,this.chainStore=t,this.requester=s,this.interactionStore=r,this.prevTokens=new Map,a.makeObservable(this),this.chainStore.addSetChainInfoHandler(e=>{a.autorun(()=>{var t;const s=u.ChainIdHelper.parse(e.chainId),r=null!==(t=this.prevTokens.get(s.identifier))&&void 0!==t?t:[];e.removeCurrencies(...r.map(e=>e.coinMinimalDenom));const n=this.getTokensOf(e.chainId);e.addCurrencies(...n.tokens),this.prevTokens.set(s.identifier,n.tokens)})})}getTokensOf(e){return this.get(e)}get waitingSuggestedToken(){const e=this.interactionStore.getDatas(o.SuggestTokenMsg.type());if(e.length>0)return e[0]}*approveSuggestedToken(e){const t=this.waitingSuggestedToken;t&&(yield this.interactionStore.approve(o.SuggestTokenMsg.type(),t.id,e),yield this.getTokensOf(t.data.chainId).refreshTokens())}*rejectSuggestedToken(){const e=this.waitingSuggestedToken;e&&(yield this.interactionStore.reject(o.SuggestTokenMsg.type(),e.id))}*rejectAllSuggestedTokens(){yield this.interactionStore.rejectAll(o.SuggestTokenMsg.type())}}r([a.flow],h.prototype,"approveSuggestedToken",null),r([a.flow],h.prototype,"rejectSuggestedToken",null),r([a.flow],h.prototype,"rejectAllSuggestedTokens",null),t.TokensStore=h},1602:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MisesStore=void 0;const i=s(3),o=s(5),a=s(46);class c{constructor(e){this.requester=e,this.isInitializing=!1,this.autoLockAccountDuration=0,o.makeObservable(this),this.initAutoLockAccountDuration()}getBalanceUMIS(){return n(this,void 0,void 0,(function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new a.BalanceUMISMsg)}))}isMisesChain(e){return n(this,void 0,void 0,(function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new a.MisesChainMsg(e))}))}getChainId(){return n(this,void 0,void 0,(function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new a.GetChainIdMsg)}))}unbondingDelegations(e){return n(this,void 0,void 0,(function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new a.UnbondingDelegationsMsg(e))}))}delegations(e){return n(this,void 0,void 0,(function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new a.DelegationsMsg(e))}))}rewards(e){return n(this,void 0,void 0,(function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new a.RewardsMsg(e))}))}authAccounts(e){return n(this,void 0,void 0,(function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new a.AuthAccountsMsg(e))}))}broadcastTx(e){return n(this,void 0,void 0,(function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new a.BroadcastTxMsg(e))}))}simulate(e,t,s,r){return n(this,void 0,void 0,(function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new a.SimulateMsg(e,t,s,r))}))}recentTransactions(){return n(this,void 0,void 0,(function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new a.RecentTransactionsMsg)}))}activeUser(){return n(this,void 0,void 0,(function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new a.ActiveUserMsg)}))}portForTx(e){return n(this,void 0,void 0,(function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new a.PortForTxMsg(e))}))}getAutoLockAccountDuration(){return n(this,void 0,void 0,(function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new a.GetAutoLockAccountDurationMsg)}))}initAutoLockAccountDuration(){this.getAutoLockAccountDuration().then(e=>this.autoLockAccountDuration=e)}setLastActiveTime(){this.requester.sendMessage(i.BACKGROUND_PORT,new a.StartAutoLockMonitoringMsg)}setLock(){this.requester.sendMessage(i.BACKGROUND_PORT,new a.LockMsg)}saveTranstions(e){this.requester.sendMessage(i.BACKGROUND_PORT,new a.SaveTranstionsMsg(e))}}r([o.observable],c.prototype,"isInitializing",void 0),r([o.observable],c.prototype,"autoLockAccountDuration",void 0),t.MisesStore=c},1603:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.MisesSafeStore=void 0;const n=s(5);class i{constructor(e){this.requester=e,this.isShouldVerify=!0,n.makeObservable(this)}getMisesSafeConfig(){}}r([n.observable],i.prototype,"isShouldVerify",void 0),t.MisesSafeStore=i},1604:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1605),t),n(s(1606),t)},1605:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.IBCChannelStore=t.IBCChannelStoreInner=void 0;const i=s(25),o=s(5),a=s(221),c=s(132),u=s(16);class l{constructor(e,t){this.kvStore=e,this.chainId=t,this.channelMap=new Map,this.getChannelsToPort=a.computedFn(e=>{this.channelMap.has(e)||o.runInAction(()=>{this.channelMap.set(e,o.observable.map({},{deep:!1}))});const t=this.channelMap.get(e),s=[];for(const e of t.values())s.push(e);return s}),this.getChannel=a.computedFn((e,t)=>{var s;return null===(s=this.channelMap.get(e))||void 0===s?void 0:s.get(t)}),o.makeObservable(this),this.loadChannels()}getTransferChannels(){return this.getChannelsToPort("transfer")}*addChannel(e){this.channelMap.has(e.portId)||this.channelMap.set(e.portId,o.observable.map({},{deep:!1})),this.channelMap.get(e.portId).set(e.channelId,e),yield this.saveChannels()}*loadChannels(){const e=yield*i.toGenerator(this.kvStore.get(u.ChainIdHelper.parse(this.chainId).identifier+"-channels"));if(e)for(const t of Object.keys(e)){const s=e[t];for(const e of Object.keys(s)){this.channelMap.has(t)||this.channelMap.set(t,o.observable.map({},{deep:!1}));this.channelMap.get(t).set(e,s[e])}}}saveChannels(){return n(this,void 0,void 0,(function*(){const e={};this.channelMap.forEach((t,s)=>{e[s]=(()=>{const e={};return t.forEach((t,s)=>{e[s]=t}),e})()}),yield this.kvStore.set(u.ChainIdHelper.parse(this.chainId).identifier+"-channels",e)}))}}r([o.observable.shallow],l.prototype,"channelMap",void 0),r([o.flow],l.prototype,"addChannel",null),r([o.flow],l.prototype,"loadChannels",null),t.IBCChannelStoreInner=l;class h extends c.HasMapStore{constructor(e){super(t=>new l(e,t)),this.kvStore=e}get(e){return super.get(e)}}t.IBCChannelStore=h},1606:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.IBCCurrencyRegsitrar=t.IBCCurrencyRegsitrarInner=void 0;const n=s(5),i=s(25);class o{constructor(e,t,s,r,i,o,a,c){this.kvStore=e,this.cacheDuration=t,this.chainInfoInner=s,this.chainStore=r,this.accountStore=i,this.queriesStore=o,this.cosmwasmQueriesStore=a,this.coinDenomGenerator=c,this.isInitialized=!1,this.isInitializing=!1,this.cacheDenomTracePaths=new Map,n.makeObservable(this)}*restoreCache(){this.isInitializing=!0;const e="cache-ibc-denom-trace-paths/"+this.chainInfoInner.chainId,t=yield*i.toGenerator(this.kvStore.get(e));if(t)for(const e of Object.keys(t))this.cacheDenomTracePaths.set(e,t[e]);this.isInitialized=!0,this.isInitializing=!1}getCacheIBCDenomData(e){const t=this.cacheDenomTracePaths.get(e);if(t&&t.timestamp+this.cacheDuration>Date.now())return t}*setCacheIBCDenomData(e,t){this.cacheDenomTracePaths.set(e,Object.assign(Object.assign({},t),{timestamp:Date.now()}));const s={};this.cacheDenomTracePaths.forEach((e,t)=>{s[t]=e});const r="cache-ibc-denom-trace-paths/"+this.chainInfoInner.chainId;yield this.kvStore.set(r,s)}registerUnknownCurrencies(e){const t=new i.DenomHelper(e);if("native"!==t.type||!t.denom.startsWith("ibc/"))return;if(this.isInitialized||this.restoreCache(),this.isInitializing)return[void 0,!1];const s=this.queriesStore.get(this.chainInfoInner.chainId),r=t.denom.replace("ibc/",""),n=this.getCacheIBCDenomData(r);let o,a,c;if(n)c=n.denomTrace,n.originChainId&&this.chainStore.hasChain(n.originChainId)&&(a=this.chainStore.getChain(n.originChainId)),n.counterpartyChainId&&this.chainStore.hasChain(n.counterpartyChainId)&&(o=this.chainStore.getChain(n.counterpartyChainId));else{const e=s.cosmos.queryIBCDenomTrace.getDenomTrace(r);if(c=e.denomTrace,c){const e=c.paths;let t=this.chainInfoInner.chainId;for(const s of e){const e=this.queriesStore.get(t).cosmos.queryIBCClientState.getClientState(s.portId,s.channelId);if(!e.clientChainId||!this.chainStore.hasChain(e.clientChainId)){a=void 0;break}t=e.clientChainId,a=this.chainStore.getChain(e.clientChainId),o||(o=this.chainStore.getChain(e.clientChainId))}a&&this.setCacheIBCDenomData(r,{counterpartyChainId:null==o?void 0:o.chainId,denomTrace:c,originChainId:a.chainId})}}if(a&&c){if(4===c.denom.split(/^(cw20):(\w+)$/).length){let e=a.currencies.find(e=>c&&e.coinMinimalDenom.startsWith(c.denom));if(!e&&this.cosmwasmQueriesStore){const t=this.cosmwasmQueriesStore.get(a.chainId),s=c.denom.replace("cw20:",""),r=t.cosmwasm.querycw20ContractInfo.getQueryContract(s);r.response&&(e={type:"cw20",contractAddress:s,coinDecimals:r.response.data.decimals,coinDenom:r.response.data.symbol,coinMinimalDenom:`cw20:${s}:${r.response.data.name}`},a.addCurrencies(e))}if(e)return[{coinDecimals:e.coinDecimals,coinGeckoId:e.coinGeckoId,coinImageUrl:e.coinImageUrl,coinMinimalDenom:t.denom,coinDenom:this.coinDenomGenerator(c,a,o,e),paths:c.paths,originChainId:a.chainId,originCurrency:e},!0]}else{const e=a.findCurrency(c.denom);if(e&&!("paths"in e))return[{coinDecimals:e.coinDecimals,coinGeckoId:e.coinGeckoId,coinImageUrl:e.coinImageUrl,coinMinimalDenom:t.denom,coinDenom:this.coinDenomGenerator(c,a,o,e),paths:c.paths,originChainId:a.chainId,originCurrency:e},!0]}return[{coinDecimals:0,coinMinimalDenom:t.denom,coinDenom:this.coinDenomGenerator(c,a,o,void 0),paths:c.paths,originChainId:void 0,originCurrency:void 0},!1]}return[void 0,!1]}}r([n.observable],o.prototype,"isInitialized",void 0),r([n.observable],o.prototype,"isInitializing",void 0),r([n.observable.shallow],o.prototype,"cacheDenomTracePaths",void 0),r([n.flow],o.prototype,"restoreCache",null),r([n.flow],o.prototype,"setCacheIBCDenomData",null),t.IBCCurrencyRegsitrarInner=o;class a{constructor(e,t=864e5,s,r,n,i,o=a.defaultCoinDenomGenerator){this.kvStore=e,this.cacheDuration=t,this.chainStore=s,this.accountStore=r,this.queriesStore=n,this.cosmwasmQueriesStore=i,this.coinDenomGenerator=o,this.map=new Map,this.chainStore.addSetChainInfoHandler(e=>this.setChainInfoHandler(e))}static defaultCoinDenomGenerator(e,t,s,r){return r?`${r.coinDenom} (${s?s.chainName:"Unknown"}/${e.paths[0].channelId})`:`${e.denom} (${s?s.chainName:"Unknown"}/${e.paths[0].channelId})`}setChainInfoHandler(e){const t=this.get(e);e.registerCurrencyRegistrar(e=>t.registerUnknownCurrencies(e))}get(e){return this.map.has(e.chainId)||n.runInAction(()=>{this.map.set(e.chainId,new o(this.kvStore,this.cacheDuration,e,this.chainStore,this.accountStore,this.queriesStore,this.cosmwasmQueriesStore,this.coinDenomGenerator))}),this.map.get(e.chainId)}}r([n.observable.shallow],a.prototype,"map",void 0),t.IBCCurrencyRegsitrar=a},1614:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeplrETCQueriesImpl=t.KeplrETCQueries=void 0;const r=s(1363),n=s(1364);t.KeplrETCQueries={use:e=>(t,s,r,n)=>({keplrETC:new i(t,s,r,n,e.ethereumURL)})};class i{constructor(e,t,s,i,o){this.queryERC20Metadata=new r.ObservableQueryERC20Metadata(t,o),this.queryEVMTokenInfo=new n.ObservableQueryEVMTokenInfo(t,s,i)}}t.KeplrETCQueriesImpl=i},1615:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryERC20Metadata=t.ObservableQueryERC20MetadataInner=t.ObservableQueryERC20MetadataDecimals=t.ObservableQueryERC20MetadataSymbol=t.ObservableQueryERC20MetadataName=void 0;const i=s(49),o=n(s(50)),a=s(1419),c=s(5),u=new a.Interface([{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"}]);class l extends i.ObservableJsonRPCQuery{constructor(e,t,s){super(e,o.default.create(Object.assign({baseURL:t})),"","eth_call",[{to:s,data:u.encodeFunctionData("name")},"latest"]),c.makeObservable(this)}get name(){if(this.response)try{return u.decodeFunctionResult("name",this.response.data)[0]}catch(e){console.log(e)}}}r([c.computed],l.prototype,"name",null),t.ObservableQueryERC20MetadataName=l;class h extends i.ObservableJsonRPCQuery{constructor(e,t,s){super(e,o.default.create(Object.assign({baseURL:t})),"","eth_call",[{to:s,data:u.encodeFunctionData("symbol")},"latest"]),c.makeObservable(this)}get symbol(){if(this.response)try{return u.decodeFunctionResult("symbol",this.response.data)[0]}catch(e){console.log(e)}}}r([c.computed],h.prototype,"symbol",null),t.ObservableQueryERC20MetadataSymbol=h;class d extends i.ObservableJsonRPCQuery{constructor(e,t,s){super(e,o.default.create(Object.assign({baseURL:t})),"","eth_call",[{to:s,data:u.encodeFunctionData("decimals")},"latest"]),c.makeObservable(this)}get decimals(){if(this.response)try{return u.decodeFunctionResult("decimals",this.response.data)[0]}catch(e){console.log(e)}}}r([c.computed],d.prototype,"decimals",null),t.ObservableQueryERC20MetadataDecimals=d;class p{constructor(e,t,s){this._queryName=new l(e,t,s),this._querySymbol=new h(e,t,s),this._queryDecimals=new d(e,t,s)}get queryName(){return this._queryName}get querySymbol(){return this._querySymbol}get symbol(){return this._querySymbol.symbol}get name(){return this._queryName.name}get decimals(){return this._queryDecimals.decimals}}t.ObservableQueryERC20MetadataInner=p;class f extends i.HasMapStore{constructor(e,t){super(e=>new p(this.kvStore,this.ethereumURL,e)),this.kvStore=e,this.ethereumURL=t}get(e){return super.get(e)}}t.ObservableQueryERC20Metadata=f},1616:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.AxelarEVMBridgeCurrencyRegistrar=t.AxelarEVMBridgeCurrencyRegistrarInner=void 0;const n=s(5);class i{constructor(e,t,s,r,n){this.kvStore=e,this.chainInfoInner=t,this.chainStore=s,this.queriesStore=r,this.mainChain=n}registerUnknownCurrencies(e){const t=this.chainStore.getChain(this.chainInfoInner.chainId);if(!t.features||!t.features.includes("axelar-evm-bridge"))return;const s=this.queriesStore.get(this.chainInfoInner.chainId).keplrETC.queryEVMTokenInfo.getAsset(this.mainChain,e);return s.symbol&&null!=s.decimals&&s.isConfirmed?[{coinMinimalDenom:e,coinDenom:s.symbol,coinDecimals:s.decimals},!s.isFetching]:s.isFetching?[void 0,!1]:void 0}}t.AxelarEVMBridgeCurrencyRegistrarInner=i;class o{constructor(e,t,s,r){this.kvStore=e,this.chainStore=t,this.queriesStore=s,this.mainChain=r,this.map=new Map,this.chainStore.addSetChainInfoHandler(e=>this.setChainInfoHandler(e))}setChainInfoHandler(e){const t=this.get(e);e.registerCurrencyRegistrar(e=>t.registerUnknownCurrencies(e))}get(e){return this.map.has(e.chainId)||n.runInAction(()=>{this.map.set(e.chainId,new i(this.kvStore,e,this.chainStore,this.queriesStore,this.mainChain))}),this.map.get(e.chainId)}}r([n.observable.shallow],o.prototype,"map",void 0),t.AxelarEVMBridgeCurrencyRegistrar=o},1617:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryEVMTokenInfo=t.ObservableQueryEVMTokenInfoInner=void 0;const r=s(49);class n extends r.ObservableChainQuery{constructor(e,t,s,r,n){super(e,t,s,`/axelar/evm/v1beta1/token_info/${r}?asset=${n}`),this._chain=r,this._denom=n}get chain(){return this._chain}get denom(){return this._denom}get tokenName(){var e;return null===(e=this.response)||void 0===e?void 0:e.data.details.token_name}get symbol(){var e;return null===(e=this.response)||void 0===e?void 0:e.data.details.symbol}get decimals(){var e;return null===(e=this.response)||void 0===e?void 0:e.data.details.decimals}get isConfirmed(){var e;return null===(e=this.response)||void 0===e?void 0:e.data.confirmed}get isExternal(){var e;return null===(e=this.response)||void 0===e?void 0:e.data.is_external}}t.ObservableQueryEVMTokenInfoInner=n;class i extends r.ObservableChainQueryMap{constructor(e,t,s){super(e,t,s,e=>{const t=e.indexOf("/"),s=e.slice(0,t),r=e.slice(t+1);return new n(this.kvStore,this.chainId,this.chainGetter,s,r)}),this.kvStore=e,this.chainId=t,this.chainGetter=s}getAsset(e,t){return this.get(`${e}/${t}`)}}t.ObservableQueryEVMTokenInfo=i},1618:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1619),t)},1619:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.GravityBridgeCurrencyRegsitrar=t.GravityBridgeCurrencyRegsitrarInner=void 0;const n=s(5),i=s(25);class o{constructor(e,t,s,r){this.kvStore=e,this.chainInfoInner=t,this.chainStore=s,this.queriesStore=r}registerUnknownCurrencies(e){const t=new i.DenomHelper(e);if("native"!==t.type||!t.denom.startsWith("gravity0x"))return;const s=this.queriesStore.get(this.chainInfoInner.chainId),r=t.denom.replace("gravity",""),n=s.keplrETC.queryERC20Metadata.get(r);return n.symbol&&null!=n.decimals?[{coinMinimalDenom:t.denom,coinDenom:n.symbol,coinDecimals:n.decimals},!0]:[void 0,!1]}}t.GravityBridgeCurrencyRegsitrarInner=o;class a{constructor(e,t,s){this.kvStore=e,this.chainStore=t,this.queriesStore=s,this.map=new Map,this.chainStore.addSetChainInfoHandler(e=>this.setChainInfoHandler(e))}setChainInfoHandler(e){const t=this.get(e);e.registerCurrencyRegistrar(e=>t.registerUnknownCurrencies(e))}get(e){return this.map.has(e.chainId)||n.runInAction(()=>{this.map.set(e.chainId,new o(this.kvStore,e,this.chainStore,this.queriesStore))}),this.map.get(e.chainId)}}r([n.observable.shallow],a.prototype,"map",void 0),t.GravityBridgeCurrencyRegsitrar=a},200:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageRegistry=void 0;t.MessageRegistry=class{constructor(){this.registeredMsgType=new Map}registerMessage(e){if(this.registeredMsgType.has(e.type()))throw new Error("Already registered type "+e.type());this.registeredMsgType.set(e.type(),e)}parseMessage(e){if(!e.type)throw new Error("Null type");const t=this.registeredMsgType.get(e.type);if(!t)throw new Error("Unregistered msg type "+e.type);return Object.setPrototypeOf(e.msg,t.prototype)}}},201:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSONUint8Array=void 0;const r=s(354);class n{static parse(e){return JSON.parse(e,(e,t)=>{if("__proto__"===e)throw new Error("__proto__ is disallowed");return t&&"string"==typeof t&&t.startsWith("__uint8array__")?r.fromHex(t.replace("__uint8array__","")):t})}static stringify(e){return JSON.stringify(e,(e,t)=>{if("__proto__"===e)throw new Error("__proto__ is disallowed");if(t&&(t instanceof Uint8Array||"object"==typeof t&&"type"in t&&"data"in t&&"Buffer"===t.type&&Array.isArray(t.data))){const e=t instanceof Uint8Array?t:new Uint8Array(t.data);return"__uint8array__"+r.toHex(e)}return t})}static wrap(e){if(void 0!==e)return JSON.parse(n.stringify(e))}static unwrap(e){if(void 0!==e)return n.parse(JSON.stringify(e))}}t.JSONUint8Array=n},205:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getKeplrExtensionRouterId=void 0,t.getKeplrExtensionRouterId=function(){const e="undefined"!=typeof window?window:chrome;return null==e.keplrExtensionRouterId&&(e.keplrExtensionRouterId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER)),e.keplrExtensionRouterId}},295:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(646),t),n(s(647),t)},3:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(353),t),n(s(355),t),n(s(356),t),n(s(357),t),n(s(358),t),n(s(359),t),n(s(360),t),n(s(200),t),n(s(201),t)},353:function(e,t,s){"use strict";var r=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Router=void 0;const n=s(200),i=s(201);t.Router=class{constructor(e){this.envProducer=e,this.msgRegistry=new n.MessageRegistry,this.registeredHandler=new Map,this.guards=[],this.port=""}registerMessage(e){this.msgRegistry.registerMessage(e)}addHandler(e,t){if(this.registeredHandler.has(e))throw new Error("Already registered type "+e);this.registeredHandler.set(e,t)}addGuard(e){this.guards.push(e)}handleMessage(e,t){var s;return r(this,void 0,void 0,(function*(){const r=this.msgRegistry.parseMessage(i.JSONUint8Array.unwrap(e)),n=this.envProducer(t,null!==(s=r.routerMeta)&&void 0!==s?s:{});for(const e of this.guards)yield e(n,r,t);r.validateBasic();const o=r.route();if(!o)throw new Error("Null router");const a=this.registeredHandler.get(o);if(!a)throw new Error("Can't get handler");return i.JSONUint8Array.wrap(yield a(n,r))}))}}},354:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromHex=t.toHex=void 0,t.toHex=function(e){let t="";for(const s of e)t+=("0"+s.toString(16)).slice(-2);return t},t.fromHex=function(e){if(e.length%2!=0)throw new Error("hex string length must be a multiple of 2");const t=[];for(let s=0;s<e.length;s+=2){const r=e.substr(s,2);if(!r.match(/[0-9a-f]{2}/i))throw new Error("hex string contains invalid characters");t.push(parseInt(r,16))}return new Uint8Array(t)}},355:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},356:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},357:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},358:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeplrError=void 0;class r extends Error{constructor(e,t,s){super(s),this.module=e,this.code=t,Object.setPrototypeOf(this,r.prototype)}}t.KeplrError=r},359:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Message=void 0;t.Message=class{approveExternal(e,t){return!1}}},360:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WEBPAGE_PORT=t.APP_PORT=t.BACKGROUND_PORT=void 0,t.BACKGROUND_PORT="background",t.APP_PORT="popup",t.WEBPAGE_PORT="webpage"},49:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1521),t),n(s(132),t),n(s(1536),t),n(s(1537),t),n(s(1591),t),n(s(1592),t),n(s(1604),t)},562:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryBalances=t.ObservableQueryBalancesInner=t.ObservableQueryBalanceInner=void 0;const n=s(63),i=s(25),o=s(5),a=s(27),c=s(132),u=s(221);class l extends n.ObservableChainQuery{constructor(e,t,s,r,n){super(e,t,s,r),this.denomHelper=n,o.makeObservable(this)}get currency(){const e=this.denomHelper.denom,t=this.chainGetter.getChain(this.chainId).findCurrency(e);if(!t)throw new Error("Unknown currency: "+e);return t}}r([o.computed],l.prototype,"currency",null),t.ObservableQueryBalanceInner=l;class h{constructor(e,t,s,r,n){this.kvStore=e,this.chainId=t,this.chainGetter=s,this.balanceRegistries=r,this.balanceMap=new Map,this.getBalanceFromCurrency=u.computedFn(e=>{const t=this.balances.find(t=>t.currency.coinMinimalDenom===e.coinMinimalDenom);return t?t.balance:new a.CoinPretty(e,new a.Int(0))}),o.makeObservable(this),this.bech32Address=n}fetch(){this.balanceMap.forEach(e=>e.fetch())}getBalanceInner(e){let t=e.coinMinimalDenom;return"type"in e&&"secret20"===e.type&&(t=e.coinMinimalDenom+"/"+e.viewingKey),this.balanceMap.has(t)||o.runInAction(()=>{let s;for(const t of this.balanceRegistries)if(s=t.getBalanceInner(this.chainId,this.chainGetter,this.bech32Address,e.coinMinimalDenom),s)break;if(!s)throw new Error("Failed to get and parse the balance for "+t);this.balanceMap.set(t,s)}),this.balanceMap.get(t)}get stakable(){const e=this.chainGetter.getChain(this.chainId);return this.getBalanceInner(e.stakeCurrency)}get balances(){const e=this.chainGetter.getChain(this.chainId),t=[];for(let s=0;s<e.currencies.length;s++){const r=e.currencies[s];t.push(this.getBalanceInner(r))}return t}get positiveBalances(){return this.balances.filter(e=>e.balance.toDec().gt(new a.Dec(0)))}get nonNativeBalances(){return this.balances.filter(e=>"native"!==new i.DenomHelper(e.currency.coinMinimalDenom).type)}get positiveNativeUnstakables(){const e=this.chainGetter.getChain(this.chainId);return this.balances.filter(t=>"native"===new i.DenomHelper(t.currency.coinMinimalDenom).type&&t.balance.toDec().gt(new a.Dec(0))&&t.currency.coinMinimalDenom!==e.stakeCurrency.coinMinimalDenom)}get unstakables(){const e=this.chainGetter.getChain(this.chainId),t=e.currencies.filter(t=>t.coinMinimalDenom!==e.stakeCurrency.coinMinimalDenom),s=[];for(let e=0;e<t.length;e++){const r=t[e];s.push(this.getBalanceInner(r))}return s}}r([o.observable.shallow],h.prototype,"balanceMap",void 0),r([o.computed],h.prototype,"stakable",null),r([o.computed],h.prototype,"balances",null),r([o.computed],h.prototype,"positiveBalances",null),r([o.computed],h.prototype,"nonNativeBalances",null),r([o.computed],h.prototype,"positiveNativeUnstakables",null),r([o.computed],h.prototype,"unstakables",null),t.ObservableQueryBalancesInner=h;class d extends c.HasMapStore{constructor(e,t,s){super(e=>new h(this.kvStore,this.chainId,this.chainGetter,this.balanceRegistries,e)),this.kvStore=e,this.chainId=t,this.chainGetter=s,this.balanceRegistries=[]}addBalanceRegistry(e){this.balanceRegistries.push(e)}getQueryBech32Address(e){return this.get(e)}}t.ObservableQueryBalances=d},57:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(644),t),n(s(295),t),n(s(648),t),n(s(651),t)},63:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableChainQueryMap=t.ObservableChainQuery=void 0;const i=s(132),o=n(s(50)),a=s(5),c=s(132);class u extends i.ObservableQuery{constructor(e,t,s,r){const n=s.getChain(t);super(e,o.default.create(Object.assign({baseURL:n.rest},n.restConfig)),r),this._chainId=t,this.chainGetter=s,this.fetchConfig={retry:3,retryDelay:1e3}}get instance(){const e=this.chainGetter.getChain(this.chainId);return o.default.create(Object.assign({baseURL:e.rest},e.restConfig))}get chainId(){return this._chainId}}r([a.override],u.prototype,"instance",null),t.ObservableChainQuery=u;class l extends c.HasMapStore{constructor(e,t,s,r){super(r),this.kvStore=e,this.chainId=t,this.chainGetter=s}}t.ObservableChainQueryMap=l},644:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(645),t)},645:function(e,t,s){"use strict";var r=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionRouter=void 0;const n=s(3),i=s(205);class o extends n.Router{constructor(e){super(e),this.onMessage=(e,t)=>{var s,r;if(e.port===this.port&&(!(null===(r=null===(s=e.msg)||void 0===s?void 0:s.routerMeta)||void 0===r?void 0:r.receiverRouterId)||e.msg.routerMeta.receiverRouterId===i.getKeplrExtensionRouterId()))return this.onMessageHandler(e,t)}}listen(e){if(!e)throw new Error("Empty port");this.port=e,browser.runtime.onMessage.addListener(this.onMessage)}unlisten(){this.port="",browser.runtime.onMessage.removeListener(this.onMessage)}onMessageHandler(e,t){return r(this,void 0,void 0,(function*(){try{console.log("onMessageHandler");return{return:yield this.handleMessage(e,t)}}catch(t){return console.log(`Failed to process msg ${e.type}: ${(null==t?void 0:t.message)||(null==t?void 0:t.toString())}`),t instanceof n.KeplrError?Promise.resolve({error:{code:t.code,module:t.module,message:t.message||t.toString()}}):t?Promise.resolve({error:t.message||t.toString()}):Promise.resolve({error:"Unknown error, and error is null"})}}))}}t.ExtensionRouter=o},646:function(e,t,s){"use strict";var r=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.InExtensionMessageRequester=void 0;const n=s(3),i=s(205);t.InExtensionMessageRequester=class{sendMessage(e,t){return r(this,void 0,void 0,(function*(){t.validateBasic(),t.origin="undefined"!=typeof window?window.location.origin:"chrome-extension://"+browser.runtime.id,t.routerMeta=Object.assign(Object.assign({},t.routerMeta),{routerId:i.getKeplrExtensionRouterId()});const s=n.JSONUint8Array.unwrap(yield browser.runtime.sendMessage({port:e,type:t.type(),msg:n.JSONUint8Array.wrap(t)}));if(!s)throw new Error("Null result");if(s.error)throw"string"==typeof s.error?new Error(s.error):new n.KeplrError(s.error.module,s.error.code,s.error.message);return s.return}))}static sendMessageToTab(e,t,s){return r(this,void 0,void 0,(function*(){s.validateBasic(),s.origin="undefined"!=typeof window?window.location.origin:"chrome-extension://"+browser.runtime.id,console.log(s.origin,"sendMessageToTab"),s.routerMeta=Object.assign(Object.assign({},s.routerMeta),{routerId:i.getKeplrExtensionRouterId()});const r=n.JSONUint8Array.unwrap(yield browser.tabs.sendMessage(e,{port:t,type:s.type(),msg:n.JSONUint8Array.wrap(s)}));if(!r)throw new Error("Null result");if(r.error)throw"string"==typeof r.error?new Error(r.error):new n.KeplrError(r.error.module,r.error.code,r.error.message);return r.return}))}}},647:function(e,t,s){"use strict";var r=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ContentScriptMessageRequester=void 0;const n=s(3),i=s(205);t.ContentScriptMessageRequester=class{sendMessage(e,t){return r(this,void 0,void 0,(function*(){t.validateBasic(),t.origin="undefined"!=typeof window?window.location.origin:"chrome-extension://"+browser.runtime.id,t.routerMeta=Object.assign(Object.assign({},t.routerMeta),{routerId:i.getKeplrExtensionRouterId()});const s=n.JSONUint8Array.wrap(t),r=(yield browser.tabs.query({discarded:!1,status:"complete"})).filter(e=>{if(e.url)return e.url.indexOf(browser.runtime.id)>-1&&e.url.indexOf("interaction=true&interactionInternal=false")>-1||e.url.indexOf("mises.site")>-1||e.url.indexOf("localhost")>-1});for(let n=0;n<r.length;n++){const i=r[n].id;if(i)try{console.log(i),chrome.tabs.sendMessage(i,{port:e,type:t.type(),msg:s},e=>{console.log(e,"browser.tabs.sendMessage: success")}),console.log(i,"browser.tabs.sendMessage")}catch(e){console.log(e)}}}))}}},648:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(649),t),n(s(650),t)},649:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionGuards=void 0;class r{}t.ExtensionGuards=r,r.checkOriginIsValid=(e,t,s)=>{if(!s.url)throw new Error("url is empty");if(!t.origin)throw new Error("origin is empty");if(new URL(s.url).origin!==t.origin)throw new Error("Invalid origin");return Promise.resolve()},r.checkMessageIsInternal=(e,t,s)=>{if(!e.isInternalMsg&&!t.approveExternal(e,s))throw new Error("Permission rejected");return Promise.resolve()}},650:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContentScriptGuards=void 0;class r{}t.ContentScriptGuards=r,r.checkMessageIsInternal=(e,t,s)=>{if(!e.isInternalMsg||t.approveExternal(e,s))throw new Error("Content script can't handle the message that is able to be sent from external");return Promise.resolve()}},651:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(652),t),n(s(653),t)},652:function(e,t,s){"use strict";var r=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionEnv=void 0;const n=s(3),i=s(47),o=s(295);const a=new class{constructor(){this.workingOnPromise=!1,this.queue=[]}enqueue(e){return new Promise((t,s)=>{this.queue.push({fn:e,resolve:t,reject:s}),this.dequeue()})}dequeue(){if(this.workingOnPromise)return;const e=this.queue.shift();e&&(this.workingOnPromise=!0,e.fn().then(t=>{e.resolve(t)}).catch(t=>{e.reject(t)}).finally(()=>{this.workingOnPromise=!1,this.dequeue()}))}};class c{}t.ExtensionEnv=c,c.produceEnv=(e,t)=>{const s=c.checkIsInternalMessage(e,browser.runtime.id,browser.runtime.getURL("/")),u="interaction=true&interactionInternal="+s,l=(e,t,s)=>r(void 0,void 0,void 0,(function*(){let c;e.startsWith("/")&&(e=e.slice(1)),e=browser.runtime.getURL("/popup.html#/"+e),e+=`${e.includes("?")?"&":"?"}${u}`;const l=yield function(e,t="default"){return r(this,void 0,void 0,(function*(){return yield a.enqueue(()=>i.isMobileStatus()?i.openPopupTab(e,t):i.openPopupWindow(e,t))}))}(e,null==s?void 0:s.channel);if(i.isMobileStatus())c=l;else{const e=yield browser.windows.get(l,{populate:!0});c=e.tabs[0].id}return yield r(void 0,void 0,void 0,(function*(){if("complete"!==(yield browser.tabs.get(c)).status)return new Promise(e=>{browser.tabs.onUpdated.addListener((t,s)=>{c===t&&"complete"===s.status&&(console.log("openAndSendMsg"),e())})});console.log("openAndSendMsg-complete")})),yield o.InExtensionMessageRequester.sendMessageToTab(c,n.APP_PORT,t)}));if(s){return{isInternalMsg:s,requestInteraction:(s,i,a)=>r(void 0,void 0,void 0,(function*(){var r;if(null==a?void 0:a.forceOpenWindow)return yield l(s,i,a);if(s.startsWith("/")&&(s=s.slice(1)),(s=browser.runtime.getURL("/popup.html#/"+s)).includes("?")?s+="&"+u:s+="?"+u,null===(r=e.tab)||void 0===r?void 0:r.id){let e=yield browser.tabs.query({discarded:!1,status:"complete"});if(e=e.filter(e=>e.url&&e.url.indexOf(browser.runtime.id)>-1),e.length>0)for(const t of e)t.id&&browser.tabs.update(t.id,{url:s})}return i.routerMeta=Object.assign(Object.assign({},i.routerMeta),{receiverRouterId:t.routerId}),yield(new o.InExtensionMessageRequester).sendMessage(n.APP_PORT,i)}))}}return{isInternalMsg:s,requestInteraction:l}},c.checkIsInternalMessage=(e,t,s)=>{if(!e.url)throw new Error("Empty sender url");const r=new URL(e.url);if(!r.origin||"null"===r.origin)throw new Error("Invalid sender url");const n=new URL(s);if(!n.origin||"null"===n.origin)throw new Error("Invalid browser url");return r.origin===n.origin&&e.id===t}},653:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContentScriptEnv=void 0;class r{}t.ContentScriptEnv=r,r.produceEnv=e=>({isInternalMsg:e.id===browser.runtime.id,requestInteraction:()=>{throw new Error("ContentScriptEnv doesn't support `requestInteraction`")}})},698:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.txEventsWithPreOnFulfill=void 0,t.txEventsWithPreOnFulfill=function(e,t){const s=e?"function"==typeof e?void 0:e.onBroadcasted:void 0,r=e?"function"==typeof e?e:e.onFulfill:void 0,n=t?"function"==typeof t?void 0:t.onBroadcasted:void 0,i=t?"function"==typeof t?t:t.onFulfill:void 0;if(s||r||n||i)return{onBroadcasted:s||n?e=>{n&&n(e),s&&s(e)}:void 0,onFulfill:r||i?e=>{i&&i(e),r&&r(e)}:void 0}}},708:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),n=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(s(1614),t),n(s(1363),t),n(s(1618),t),n(s(1364),t)},933:function(e,t,s){"use strict";var r=this&&this.__decorate||function(e,t,s,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(i<3?n(o):i>3?n(t,s,o):n(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o},n=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AccountSetBaseSuper=t.AccountSetBase=t.WalletStatus=void 0;const i=s(5),o=s(25),a=s(16);var c;!function(e){e.NotInit="NotInit",e.Loading="Loading",e.Loaded="Loaded",e.NotExist="NotExist",e.Rejected="Rejected"}(c=t.WalletStatus||(t.WalletStatus={}));class u{constructor(e,t,s,r){this.eventListener=e,this.chainGetter=t,this.chainId=s,this.opts=r,this._walletVersion=void 0,this._walletStatus=c.NotInit,this._rejectionReason=void 0,this._name="",this._bech32Address="",this._isNanoLedger=!1,this._txTypeInProgress="",this._txNotification="",this.hasInited=!1,this.sendTokenFns=[],this.makeSendTokenTxFns=[],this.handleInit=()=>this.init(),i.makeObservable(this),this._pubKey=new Uint8Array,r.autoInit&&this.init()}getKeplr(){return this.opts.getKeplr()}registerSendTokenFn(e){this.sendTokenFns.push(e)}registerMakeSendTokenFn(e){this.makeSendTokenTxFns.push(e)}enable(e,t){return n(this,void 0,void 0,(function*(){const s=this.chainGetter.getChain(t);this.opts.suggestChain&&(this.opts.suggestChainFn?yield this.opts.suggestChainFn(e,s):yield this.suggestChain(e,s)),yield e.enable(t)}))}suggestChain(e,t){return n(this,void 0,void 0,(function*(){yield e.experimentalSuggestChain(t.raw)}))}*init(){if(this.walletStatus===c.NotExist)return;this.hasInited||this.eventListener.addEventListener("mises_keystorechange",this.handleInit),this.hasInited=!0,this._walletStatus=c.Loading;const e=yield*o.toGenerator(this.getKeplr());if(e){this._walletVersion=e.version;try{yield this.enable(e,this.chainId)}catch(e){return console.log(e),this._walletStatus=c.Rejected,void(this._rejectionReason=e)}try{const t=yield*o.toGenerator(e.getKey(this.chainId));this._bech32Address=t.bech32Address,this._isNanoLedger=t.isNanoLedger,this._name=t.name,this._pubKey=t.pubKey,this._walletStatus=c.Loaded}catch(e){console.log(e),this._bech32Address="",this._isNanoLedger=!1,this._name="",this._pubKey=new Uint8Array(0),this._walletStatus=c.Rejected,this._rejectionReason=e}this._walletStatus!==c.Rejected&&(this._rejectionReason=void 0)}else this._walletStatus=c.NotExist}disconnect(){this._walletStatus=c.NotInit,this.hasInited=!1,this.eventListener.removeEventListener("mises_keystorechange",this.handleInit),this._bech32Address="",this._isNanoLedger=!1,this._name="",this._pubKey=new Uint8Array(0),this._rejectionReason=void 0}get walletVersion(){return this._walletVersion}get isReadyToSendTx(){return this.walletStatus===c.Loaded&&""!==this.bech32Address}get isReadyToSendMsgs(){return this.walletStatus===c.Loaded&&""!==this.bech32Address}makeSendTokenTx(e,t,s){for(let r=0;r<this.makeSendTokenTxFns.length;r++){const n=(0,this.makeSendTokenTxFns[r])(e,t,s);if(n)return n}const r=new o.DenomHelper(t.coinMinimalDenom);throw new Error(`Unsupported type of currency (${r.type})`)}sendToken(e,t,s,r="",i={},a,c){return n(this,void 0,void 0,(function*(){for(let n=0;n<this.sendTokenFns.length;n++){const o=this.sendTokenFns[n];if(yield o(e,t,s,r,i,a,c))return}const n=new o.DenomHelper(t.coinMinimalDenom);throw new Error(`Unsupported type of currency (${n.type})`)}))}get walletStatus(){return this._walletStatus}get rejectionReason(){return this._rejectionReason}get name(){return this._name}get bech32Address(){return this._bech32Address}get pubKey(){return this._pubKey.slice()}get isNanoLedger(){return this._isNanoLedger}get txTypeInProgress(){return this._txTypeInProgress}get txNotification(){return this._txNotification}get isSendingMsg(){return this.txTypeInProgress}get hasEthereumHexAddress(){var e,t;return null!==(t=null===(e=this.chainGetter.getChain(this.chainId).features)||void 0===e?void 0:e.includes("eth-address-gen"))&&void 0!==t&&t}get ethereumHexAddress(){return""===this.bech32Address?"":a.Bech32Address.fromBech32(this.bech32Address,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixAccAddr).toHex(!0)}}r([i.observable],u.prototype,"_walletVersion",void 0),r([i.observable],u.prototype,"_walletStatus",void 0),r([i.observable.ref],u.prototype,"_rejectionReason",void 0),r([i.observable],u.prototype,"_name",void 0),r([i.observable],u.prototype,"_bech32Address",void 0),r([i.observable],u.prototype,"_isNanoLedger",void 0),r([i.observable],u.prototype,"_txTypeInProgress",void 0),r([i.observable],u.prototype,"_txNotification",void 0),r([i.flow],u.prototype,"init",null),r([i.action],u.prototype,"disconnect",null),r([i.computed],u.prototype,"isReadyToSendTx",null),r([i.computed],u.prototype,"isReadyToSendMsgs",null),r([i.computed],u.prototype,"ethereumHexAddress",null),t.AccountSetBase=u;class l extends u{constructor(...e){super(...e),i.makeObservable(this)}setTxTypeInProgress(e){this._txTypeInProgress=e}setTxNotification(e){this._txNotification=e}}r([i.action],l.prototype,"setTxTypeInProgress",null),r([i.action],l.prototype,"setTxNotification",null),t.AccountSetBaseSuper=l},934:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BondStatus=void 0,function(e){e.Unbonded="Unbonded",e.Unbonding="Unbonding",e.Bonded="Bonded",e.Unspecified="Unspecified"}(t.BondStatus||(t.BondStatus={}))}}]);